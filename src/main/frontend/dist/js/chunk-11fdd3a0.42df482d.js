(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-11fdd3a0"],{"4b01":function(e,t,o){"use strict";o("f7ce")},"5b81":function(e,t,o){"use strict";var r=o("23e7"),n=o("da84"),l=o("c65b"),i=o("e330"),s=o("1d80"),a=o("1626"),u=o("44e7"),d=o("577e"),c=o("dc4a"),f=o("ad6d"),p=o("0cb2"),b=o("b622"),m=o("c430"),g=b("replace"),j=RegExp.prototype,h=n.TypeError,O=i(f),y=i("".indexOf),v=i("".replace),R=i("".slice),_=Math.max,E=function(e,t,o){return o>e.length?-1:""===t?o:y(e,t,o)};r({target:"String",proto:!0},{replaceAll:function(e,t){var o,r,n,i,f,b,T,w,G,k=s(this),C=0,A=0,S="";if(null!=e){if(o=u(e),o&&(r=d(s("flags"in j?e.flags:O(e))),!~y(r,"g")))throw h("`.replaceAll` does not allow non-global regexes");if(n=c(e,g),n)return l(n,e,k,t);if(m&&o)return v(d(k),e,t)}i=d(k),f=d(e),b=a(t),b||(t=d(t)),T=f.length,w=_(1,T),C=E(i,f,0);while(-1!==C)G=b?d(t(f,C,i)):p(f,i,C,[],void 0,t),S+=R(i,A,C)+G,A=C+T,C=E(i,f,C+w);return A<i.length&&(S+=R(i,A)),S}})},"7db0":function(e,t,o){"use strict";var r=o("23e7"),n=o("b727").find,l=o("44d2"),i="find",s=!0;i in[]&&Array(1)[i]((function(){s=!1})),r({target:"Array",proto:!0,forced:s},{find:function(e){return n(this,e,arguments.length>1?arguments[1]:void 0)}}),l(i)},"844e":function(e,t,o){"use strict";o.r(t);o("b0c0"),o("4e82"),o("d81d"),o("4de4"),o("d3b7"),o("e9c4"),o("caad"),o("2532");var r=o("7a23"),n=function(e){return Object(r["B"])("data-v-3b80a1f4"),e=e(),Object(r["z"])(),e},l={class:"SubjectSettings"},i={class:"row"},s={class:"group-info card"},a=n((function(){return Object(r["j"])("span",{class:"card-title"},"Informations du groupe :",-1)})),u=Object(r["l"])("Ce sont ces informations que vous devez transmettre pour vous connecter au groupe "),d=Object(r["l"])("Identifiant du groupe : "),c=Object(r["l"])("Clé de connexion au groupe : "),f={class:"users-list card"},p=n((function(){return Object(r["j"])("span",{class:"card-title",style:{height:"12%","max-height":"12%"}},"Utilisateurs du groupe : (vous exclu)",-1)})),b=Object(r["l"])(" La rôle utilisateur n'est PAS le rôle que vous affectez à un utilisateur. C'est le statut qu'il a vis-à-vis du site "),m={style:{height:"75%",width:"100%","max-height":"75%"}},g=Object(r["l"])(" Il n'y a pas d'utilisateurs dans le groupe. "),j={style:{display:"flex","align-items":"center","justify-content":"space-between",width:"100%",height:"7%","max-height":"7%"}},h=Object(r["l"])(" Supprimer la sélection "),O=Object(r["l"])("Modifier le rôle "),y=Object(r["l"])("Effacer tout "),v={class:"add-role"},R={style:{color:"#2d2d2d"}},_={class:"user-roles"},E=Object(r["l"])(" Enlever "),T=Object(r["l"])("Ajouter le(s) rôle(s) sélectionné(s) "),w={class:"row"},G={class:"card option-panel"},k=n((function(){return Object(r["j"])("span",{class:"card-title"},"Configuration :",-1)})),C=Object(r["l"])("Ajouter un sous-groupe "),A={class:"addGroup"},S=n((function(){return Object(r["j"])("span",{style:{"margin-bottom":"10px","font-size":"19px","font-weight":"600",color:"#454150"}},"Créer un groupe :",-1)})),U=Object(r["l"])(" Nom du sous-groupe. "),V=Object(r["l"])(" Initiales du groupe "),x=n((function(){return Object(r["j"])("span",{style:{color:"#565656"}},"Type de groupe :",-1)})),M=Object(r["l"])(" Créer ! "),F={class:"uploadFile"},I=n((function(){return Object(r["j"])("label",{for:"fileUp"},"Ajouter une page d'accueil ",-1)})),N={key:0,style:{color:"#F4F4F4"}},Q={class:"row",style:{height:"480px"}},D={class:"card role-edit"},L=n((function(){return Object(r["j"])("span",{class:"card-title"}," Rôles du groupe : ",-1)})),P={class:"role-nav"},B={class:"roles-list"},q=["onClick"],z=Object(r["l"])(" Nouveau "),J=n((function(){return Object(r["j"])("h2",{style:{color:"#2d2d2d"}},"Créer un nouveau rôle :",-1)})),K=Object(r["l"])("Nom du rôle :"),H=Object(r["l"])("Créer"),$={key:0,class:"rights"},Y={style:{display:"flex","align-items":"center","justify-content":"space-between"}},W={style:{"font-size":"16px","font-weight":"600"}},X=Object(r["l"])(" Supprimer le rôle "),Z={class:"right"},ee=n((function(){return Object(r["j"])("span",null,"Permission d'envoyer des messages : ",-1)})),te={class:"right"},oe=n((function(){return Object(r["j"])("span",null,"Permission de lire des messages : ",-1)})),re={class:"right"},ne=n((function(){return Object(r["j"])("span",null,"Permission de modifier le groupe : ",-1)})),le={class:"right"},ie=n((function(){return Object(r["j"])("span",null,"Permission de modifier les salons de discussions : ",-1)})),se={class:"right"},ae=n((function(){return Object(r["j"])("span",null,"Permission de modifier les notes : ",-1)})),ue={class:"right"},de=n((function(){return Object(r["j"])("span",null,"Permission de lancer un stream : ",-1)})),ce=Object(r["l"])(" Enregistrer les modifications ? "),fe=Object(r["l"])(" Oui ! "),pe={key:1,style:{"font-size":"18px","font-weight":"600"}};function be(e,t,o,n,be,me){var ge=Object(r["G"])("w-alert"),je=Object(r["G"])("w-table"),he=Object(r["G"])("w-button"),Oe=Object(r["G"])("w-select"),ye=Object(r["G"])("w-dialog"),ve=Object(r["G"])("w-input"),Re=Object(r["G"])("w-form"),_e=Object(r["G"])("w-switch");return Object(r["y"])(),Object(r["i"])("div",l,[Object(r["j"])("div",i,[Object(r["j"])("div",s,[a,Object(r["m"])(ge,{info:"",plain:""},{default:Object(r["Q"])((function(){return[u]})),_:1}),Object(r["j"])("span",null,[d,Object(r["j"])("strong",null,Object(r["K"])(e.getGroup.groups_id),1)]),Object(r["j"])("span",null,[c,Object(r["j"])("strong",null,Object(r["K"])(e.getGroup.token),1)])]),Object(r["j"])("div",f,[p,be.viewedInfo?(Object(r["y"])(),Object(r["g"])(ge,{key:0,info:"",plain:""},{default:Object(r["Q"])((function(){return[b,Object(r["j"])("button",{onClick:t[0]||(t[0]=function(e){return be.viewedInfo=!1}),style:{cursor:"pointer","text-decoration":"underline",background:"none",outline:"none",border:"none",color:"#F4F4F4","margin-left":"5px"}}," Compris ! ")]})),_:1})):Object(r["h"])("",!0),Object(r["j"])("div",m,[Object(r["m"])(je,{class:"users-table",headers:be.users.headers,items:be.users.list,"selectable-rows":!0,onRowSelect:t[1]||(t[1]=function(e){return be.users.selection=[e.item]}),sort:"+role"},{"no-data":Object(r["Q"])((function(){return[g]})),_:1},8,["headers","items"])]),Object(r["j"])("div",j,[Object(r["m"])(he,{class:"ma1","bg-color":"error",disabled:0===be.users.selection.length,onClick:me.removeUsers},{default:Object(r["Q"])((function(){return[h]})),_:1},8,["disabled","onClick"]),Object(r["m"])(he,{class:"ma1","bg-color":"error",disabled:1!==be.users.selection.length,onClick:me.prepareModifyRoles},{default:Object(r["Q"])((function(){return[O]})),_:1},8,["disabled","onClick"]),Object(r["m"])(he,{class:"ma1","bg-color":"error",disabled:0===be.users.list.length,onClick:me.removeAll},{default:Object(r["Q"])((function(){return[y]})),_:1},8,["disabled","onClick"]),Object(r["m"])(ye,{modelValue:be.modifyRole.show,"onUpdate:modelValue":t[3]||(t[3]=function(e){return be.modifyRole.show=e}),width:500},{default:Object(r["Q"])((function(){return[Object(r["j"])("div",v,[Object(r["j"])("h3",R," Rôle(s) de "+Object(r["K"])(be.users.selection[0].name)+" "+Object(r["K"])(be.users.selection[0].last_name)+": ",1),Object(r["j"])("div",_,[(Object(r["y"])(!0),Object(r["i"])(r["a"],null,Object(r["E"])(be.modifyRole.userRoles.sort((function(e,t){return"*"===e.value.rights?-1:"*"===t.value.rights||"-"===e.value.rights?1:"-"===t.value.rights?-1:e.value.rights.length-t.value.rights.length})),(function(e){return Object(r["y"])(),Object(r["i"])("span",{key:e.value.role_id},[Object(r["l"])(Object(r["K"])(e.label)+" ",1),Object(r["m"])(he,{"bg-color":"error",disabled:be.modifyRole.userRoles.length<=1,onClick:function(t){return me.deleteRoleForUser(e.value)}},{default:Object(r["Q"])((function(){return[E]})),_:2},1032,["disabled","onClick"])])})),128))]),Object(r["m"])(Oe,{items:be.modifyRole.groupRoles.filter((function(e){return!me.userHaveRole(be.users.selection[0].id,e.role_id)})).map((function(e){return{label:e.name,value:e}})),modelValue:be.modifyRole.rolesToAdd,"onUpdate:modelValue":t[2]||(t[2]=function(e){return be.modifyRole.rolesToAdd=e}),label:"Rôle(s) à ajouter :",multiple:be.modifyRole.groupRoles.length>1},null,8,["items","modelValue","multiple"]),Object(r["m"])(he,{plain:"","bg-color":"success",disabled:0===be.modifyRole.rolesToAdd.length,onClick:me.addRoleForUser},{default:Object(r["Q"])((function(){return[T]})),_:1},8,["disabled","onClick"])])]})),_:1},8,["modelValue"])])])]),Object(r["j"])("div",w,[Object(r["j"])("div",G,[k,Object(r["m"])(he,{"bg-color":"error",onClick:t[4]||(t[4]=function(e){return be.addGroup.show=!0}),style:{"align-self":"flex-start"}},{default:Object(r["Q"])((function(){return[C]})),_:1}),Object(r["m"])(ye,{modelValue:be.addGroup.show,"onUpdate:modelValue":t[8]||(t[8]=function(e){return be.addGroup.show=e}),fullscreen:be.addGroup.fullscreen,width:be.addGroup.width,persistent:be.addGroup.persistent,"persistent-no-animation":be.addGroup.persistentNoAnimation},{default:Object(r["Q"])((function(){return[Object(r["j"])("div",A,[S,Object(r["m"])(ve,{autocomplete:"off",color:"grey-dark3",required:"",style:{"margin-bottom":"10px",width:"90%"},modelValue:be.addGroup.data.name,"onUpdate:modelValue":t[5]||(t[5]=function(e){return be.addGroup.data.name=e})},{default:Object(r["Q"])((function(){return[U]})),_:1},8,["modelValue"]),Object(r["m"])(ve,{autocomplete:"off",color:"grey-dark3",required:"",style:{"margin-bottom":"10px",width:"90%"},modelValue:be.addGroup.data.init,"onUpdate:modelValue":t[6]||(t[6]=function(e){return be.addGroup.data.init=e})},{default:Object(r["Q"])((function(){return[V]})),_:1},8,["modelValue"]),x,Object(r["m"])(Oe,{color:"grey-dark3",required:"",style:{"margin-bottom":"10px",width:"90%","z-index":"500"},modelValue:be.addGroup.data.type,"onUpdate:modelValue":t[7]||(t[7]=function(e){return be.addGroup.data.type=e}),items:be.groupTypes.map((function(e){return{label:be.typeTranslation[e.label]}}))},null,8,["modelValue","items"]),Object(r["m"])(he,{"bg-color":"error",onClick:me.add},{default:Object(r["Q"])((function(){return[M]})),_:1},8,["onClick"])])]})),_:1},8,["modelValue","fullscreen","width","persistent","persistent-no-animation"]),Object(r["j"])("div",F,[I,Object(r["j"])("input",{id:"fileUp",ref:"uploadInput",type:"file",accept:".md,.txt",onChange:t[9]||(t[9]=function(e){me.onSubjectUpload(),be.uploaded=!0})},null,544),be.uploaded?(Object(r["y"])(),Object(r["i"])("button",{key:0,class:"validate",onClick:t[10]||(t[10]=function(e){me.uploadFile(),be.uploaded=!1})},"✔")):Object(r["h"])("",!0),be.uploaded?(Object(r["y"])(),Object(r["i"])("button",{key:1,class:"cancel",onClick:t[11]||(t[11]=function(e){return be.uploaded=!1})},"X")):Object(r["h"])("",!0)]),be.uploaded?(Object(r["y"])(),Object(r["i"])("span",N,Object(r["K"])(e.$refs.uploadInput.files[0].name),1)):Object(r["h"])("",!0)])]),Object(r["j"])("div",Q,[Object(r["j"])("div",D,[L,Object(r["j"])("div",P,[Object(r["j"])("div",B,[(Object(r["y"])(!0),Object(r["i"])(r["a"],null,Object(r["E"])(e.getGroup.roles,(function(e){return Object(r["y"])(),Object(r["i"])("button",{class:"role-button",key:e.role_id,style:Object(r["u"])(e.name===be.roleToEdit.role.name?{color:"#f65555",fontWeight:600}:{}),onClick:function(t){return me.changeRoleShown(e)}},Object(r["K"])(e.name),13,q)})),128)),Object(r["m"])(he,{style:{"margin-top":"10px"},"bg-color":"error",onClick:t[12]||(t[12]=function(e){return be.createRole.show=!0})},{default:Object(r["Q"])((function(){return[z]})),_:1}),Object(r["m"])(ye,{width:500,modelValue:be.createRole.show,"onUpdate:modelValue":t[14]||(t[14]=function(e){return be.createRole.show=e})},{default:Object(r["Q"])((function(){return[J,Object(r["m"])(Re,{onSuccess:me.addNewRole},{default:Object(r["Q"])((function(){return[Object(r["m"])(ve,{modelValue:be.createRole.value,"onUpdate:modelValue":t[13]||(t[13]=function(e){return be.createRole.value=e}),style:{"margin-bottom":"10px"},validators:[be.createRole.validators.required]},{default:Object(r["Q"])((function(){return[K]})),_:1},8,["modelValue","validators"]),Object(r["m"])(he,{type:"submit"},{default:Object(r["Q"])((function(){return[H]})),_:1})]})),_:1},8,["onSuccess"])]})),_:1},8,["modelValue"])]),JSON.stringify({})!==JSON.stringify(be.roleToEdit.role)?(Object(r["y"])(),Object(r["i"])("div",$,[Object(r["j"])("div",Y,[Object(r["j"])("span",W,"Rôle : "+Object(r["K"])(be.roleToEdit.role.name),1),Object(r["m"])(he,{"bg-color":"error",disabled:"Etudiant"===be.roleToEdit.role.name||"Admin"===be.roleToEdit.role.name,onClick:me.deleteRole},{default:Object(r["Q"])((function(){return[X]})),_:1},8,["disabled","onClick"])]),Object(r["j"])("div",Z,[ee,Object(r["m"])(_e,{class:"ma2",value:!0,color:"success",modelValue:be.roleToEdit.rights.canSendMessage,"onUpdate:modelValue":t[15]||(t[15]=function(e){return be.roleToEdit.rights.canSendMessage=e}),onInput:t[16]||(t[16]=function(e){return be.roleEdited=!0}),disabled:be.roles_idList.includes(be.roleToEdit.role.role_id)},null,8,["modelValue","disabled"])]),Object(r["j"])("div",te,[oe,Object(r["m"])(_e,{class:"ma2",value:!0,color:"success",modelValue:be.roleToEdit.rights.canReadMessage,"onUpdate:modelValue":t[17]||(t[17]=function(e){return be.roleToEdit.rights.canReadMessage=e}),onInput:t[18]||(t[18]=function(e){return be.roleEdited=!0}),disabled:be.roles_idList.includes(be.roleToEdit.role.role_id)},null,8,["modelValue","disabled"])]),Object(r["j"])("div",re,[ne,Object(r["m"])(_e,{class:"ma2",value:!0,color:"success",modelValue:be.roleToEdit.rights.canChangeGroup,"onUpdate:modelValue":t[19]||(t[19]=function(e){return be.roleToEdit.rights.canChangeGroup=e}),onInput:t[20]||(t[20]=function(e){return be.roleEdited=!0}),disabled:be.roles_idList.includes(be.roleToEdit.role.role_id)},null,8,["modelValue","disabled"])]),Object(r["j"])("div",le,[ie,Object(r["m"])(_e,{class:"ma2",value:!0,color:"success",modelValue:be.roleToEdit.rights.canModifyRoom,"onUpdate:modelValue":t[21]||(t[21]=function(e){return be.roleToEdit.rights.canModifyRoom=e}),onInput:t[22]||(t[22]=function(e){return be.roleEdited=!0}),disabled:be.roles_idList.includes(be.roleToEdit.role.role_id)},null,8,["modelValue","disabled"])]),Object(r["j"])("div",se,[ae,Object(r["m"])(_e,{class:"ma2",value:!0,color:"success",modelValue:be.roleToEdit.rights.canModifyNotes,"onUpdate:modelValue":t[23]||(t[23]=function(e){return be.roleToEdit.rights.canModifyNotes=e}),onInput:t[24]||(t[24]=function(e){return be.roleEdited=!0}),disabled:be.roles_idList.includes(be.roleToEdit.role.role_id)},null,8,["modelValue","disabled"])]),Object(r["j"])("div",ue,[de,Object(r["m"])(_e,{class:"ma2",value:!0,color:"success",modelValue:be.roleToEdit.rights.canStream,"onUpdate:modelValue":t[25]||(t[25]=function(e){return be.roleToEdit.rights.canStream=e}),onInput:t[26]||(t[26]=function(e){return be.roleEdited=!0}),disabled:be.roles_idList.includes(be.roleToEdit.role.role_id)},null,8,["modelValue","disabled"])]),be.roleEdited?(Object(r["y"])(),Object(r["g"])(ge,{key:0,class:"alert",color:"success"},{default:Object(r["Q"])((function(){return[ce,Object(r["m"])(he,{"bg-color":"success",onClick:me.editRole},{default:Object(r["Q"])((function(){return[fe]})),_:1},8,["onClick"])]})),_:1})):Object(r["h"])("",!0)])):(Object(r["y"])(),Object(r["i"])("div",pe," Sélectionner un rôle pour le modifier. "))])])])])}var me=o("5530"),ge=o("1da1"),je=(o("96cf"),o("ac1f"),o("5319"),o("5b81"),o("7db0"),o("b64b"),o("159b"),o("a434"),o("99af"),o("5502")),he=o("bc3a"),Oe=o.n(he),ye={name:"SubjectSettings",data:function(){return{addGroup:{show:!1,fullscreen:!1,persistent:!1,persistentNoAnimation:!1,width:300,data:{name:"",init:"",type:""}},users:{list:[],headers:[{label:"Nom",key:"last_name"},{label:"Prénom",key:"name"},{label:"Pseudo",key:"username"},{label:"Statut",key:"role"}],selection:[]},typeTranslation:{ESTABLISHMENT:"Établissement",FACULTY:"Université",ADMINISTRATION:"Administration",COURSE:"Filière/cursus",GRADE:"Année",SUBJECTS:"Matière",OTHER:"Autres"},roleTranslation:{STUDENT:"Étudiant",TEACHER:"Enseignant",ADMIN:"Administrateur"},types:[{label:"ESTABLISHMENT",order:1},{label:"FACULTY",order:1},{label:"ADMINISTRATION",order:2},{label:"COURSE",order:3},{label:"GRADE",order:4},{label:"SUBJECTS",order:5},{label:"OTHER",order:6}],groupTypes:[],uploaded:!1,formData:null,roleToEdit:{rights:{},role:{}},roleEdited:!1,roles_idList:[],viewedInfo:!0,modifyRole:{show:!1,groupRoles:[],userRoles:[],rolesToAdd:[]},createRole:{show:!1,validators:{required:function(e){return!!e||"Entrez un nom de rôle"}},value:""}}},methods:{add:function(e){var t=this;this.addGroup.data.init.length>4&&(this.addGroup.data.init=this.addGroup.data.init.replaceAll(" ","").substring(0,4)),("keydown"===e.type&&13===e.keyCode||"click"===e.type)&&(Oe.a.post("/api/groups/addNewGroup",{parent_id:this.getGroup.groups_id,user_id:this.getUser.id,depth:this.getGroup.depth+1,description:this.addGroup.data.init,name:this.addGroup.data.name,type:Object.keys(this.typeTranslation).find((function(e){return t.typeTranslation[e]===t.addGroup.data.type})),text:""}).then((function(e){t.$emit("groupAdded",e.data)})),this.addGroup.show=!1)},removeUsers:function(){var e=this;this.users.selection.forEach((function(t){e.users.list.splice(e.users.list.indexOf(t),1),Oe.a.delete("/api/groups/deleteUser?user_id=".concat(t.id,"&group_id=").concat(e.getGroup.groups_id))}))},removeAll:function(){var e=this;this.users.list.forEach((function(t){Oe.a.delete("/api/groups/deleteUser?user_id=".concat(t.id,"&group_id=").concat(e.getGroup.groups_id))})),this.users.list=[]},getOrder:function(e){var t=-1;return this.types.forEach((function(o){o.label===e&&(t=o.order)})),t},onSubjectUpload:function(){var e=this.$refs.uploadInput.files[0];this.formData=new FormData,this.formData.append("file",e)},uploadFile:function(){Oe()({url:"/api/uploadfile/uploadSubject?group_id=".concat(this.getGroup.groups_id),method:"POST",data:this.formData,headers:{Accept:"application/json","Content-type":"multipart/form-data"}})},changeRoleShown:function(e){if(!this.roleEdited)if(this.roleToEdit.role=e,"*"===e.rights)this.roleToEdit.rights={canSendMessage:!0,canReadMessage:!0,canChangeGroup:!0,canModifyRoom:!0,canModifyNotes:!0,canStream:!0};else{var t=e.rights;this.roleToEdit.rights={canSendMessage:t.includes("s"),canReadMessage:t.includes("r"),canChangeGroup:t.includes("p"),canModifyRoom:t.includes("c"),canModifyNotes:t.includes("n"),canStream:t.includes("l")}}},editRole:function(){this.roleEdited=!1;var e="";this.roleToEdit.rights.canSendMessage&&(e+="s"),this.roleToEdit.rights.canReadMessage&&(e+="r"),this.roleToEdit.rights.canChangeGroup&&(e+="p"),this.roleToEdit.rights.canModifyRoom&&(e+="c"),this.roleToEdit.rights.canModifyNotes&&(e+="n"),this.roleToEdit.rights.canStream&&(e+="l"),0===e.length&&(e="-"),Oe.a.put("/api/groups/modifyRightsForRole?role_id=".concat(this.roleToEdit.role.role_id,"&rights=").concat(e))},prepareModifyRoles:function(){this.modifyRole.show=!0,this.modifyRole.rolesToAdd=[],this.loadRoles()},loadRoles:function(){var e=this;return Object(ge["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Oe.a.get("/api/groups/getRoleByGroupAndUser?group_id=".concat(e.getGroup.groups_id,"&user_id=").concat(e.users.selection[0].id)).then((function(t){e.modifyRole.userRoles=t.data.map((function(e){return{label:e.name,value:e,color:"success"}}))}));case 2:return t.next=4,Oe.a.get("/api/groups/getAllRolesByGroup?group_id=".concat(e.getGroup.groups_id)).then((function(t){e.modifyRole.groupRoles=t.data}));case 4:case"end":return t.stop()}}),t)})))()},userHaveRole:function(e,t){var o=!1;return this.modifyRole.userRoles.forEach((function(e){e.value.role_id===t&&(o=!0)})),o},addRoleForUser:function(){var e=this;this.modifyRole.rolesToAdd.forEach((function(t){Oe.a.post("/api/groups/addRoleForUser?user_id=".concat(e.users.selection[0].id,"&role_id=").concat(t.role_id))})),this.modifyRole.rolesToAdd.forEach((function(t){e.modifyRole.userRoles.push({label:t.name,value:t,color:"success"})})),this.modifyRole.rolesToAdd=[]},deleteRoleForUser:function(e){var t=this;Oe.a.delete("/api/groups/removeRoleForUser?user_id=".concat(this.users.selection[0].id,"&role_id=").concat(e.role_id)).then((function(){t.modifyRole.userRoles=t.modifyRole.userRoles.filter((function(t){return t.value.role_id!==e.role_id}))}))},addNewRole:function(){var e=this;Oe.a.post("/api/groups/addRoleForGroup?group_id=".concat(this.getGroup.groups_id,"&role_name=").concat(this.createRole.value,"&rights=sr")).then((function(t){e.getGroup.roles.push(t.data)})),this.createRole.value="",this.createRole.show=!1},deleteRole:function(){var e=this;Oe.a.delete("/api/groups/deleteRole?role_id=".concat(this.roleToEdit.role.role_id)).then((function(){e.getGroup.roles=e.getGroup.roles.filter((function(t){return t.role_id!==e.roleToEdit.role.role_id})),e.roleToEdit={role:{},rights:{}}}))}},computed:Object(me["a"])({},Object(je["c"])(["getGroup","getUser"])),mounted:function(){var e=this;this.groupTypes=this.types.filter((function(t){return t.order>e.getOrder(e.getGroup.type)})),this.users.list=this.getGroup.users.filter((function(t){return t.id!==e.getUser.id})).map((function(t){return{id:t.id,last_name:t.last_name,name:t.name,username:t.username,role:e.roleTranslation[t.role]}})).sort((function(e,t){return e.last_name<t.last_name?-1:e.last_name>t.last_name?1:e.last_name===t.last_name?0:void 0})),Oe.a.get("/api/groups/getRoleByGroupAndUser?group_id=".concat(this.getGroup.groups_id,"&user_id=").concat(this.getUser.id)).then((function(t){e.roles_idList=t.data.map((function(e){return e.role_id}))}))}},ve=(o("4b01"),o("6b0d")),Re=o.n(ve);const _e=Re()(ye,[["render",be],["__scopeId","data-v-3b80a1f4"]]);t["default"]=_e},a434:function(e,t,o){"use strict";var r=o("23e7"),n=o("da84"),l=o("23cb"),i=o("5926"),s=o("07fa"),a=o("7b0b"),u=o("65f0"),d=o("8418"),c=o("1dde"),f=c("splice"),p=n.TypeError,b=Math.max,m=Math.min,g=9007199254740991,j="Maximum allowed length exceeded";r({target:"Array",proto:!0,forced:!f},{splice:function(e,t){var o,r,n,c,f,h,O=a(this),y=s(O),v=l(e,y),R=arguments.length;if(0===R?o=r=0:1===R?(o=0,r=y-v):(o=R-2,r=m(b(i(t),0),y-v)),y+o-r>g)throw p(j);for(n=u(O,r),c=0;c<r;c++)f=v+c,f in O&&d(n,c,O[f]);if(n.length=r,o<r){for(c=v;c<y-r;c++)f=c+r,h=c+o,f in O?O[h]=O[f]:delete O[h];for(c=y;c>y-r+o;c--)delete O[c-1]}else if(o>r)for(c=y-r;c>v;c--)f=c+r-1,h=c+o-1,f in O?O[h]=O[f]:delete O[h];for(c=0;c<o;c++)O[c+v]=arguments[c+2];return O.length=y-r+o,n}})},d81d:function(e,t,o){"use strict";var r=o("23e7"),n=o("b727").map,l=o("1dde"),i=l("map");r({target:"Array",proto:!0,forced:!i},{map:function(e){return n(this,e,arguments.length>1?arguments[1]:void 0)}})},e9c4:function(e,t,o){var r=o("23e7"),n=o("da84"),l=o("d066"),i=o("2ba4"),s=o("e330"),a=o("d039"),u=n.Array,d=l("JSON","stringify"),c=s(/./.exec),f=s("".charAt),p=s("".charCodeAt),b=s("".replace),m=s(1..toString),g=/[\uD800-\uDFFF]/g,j=/^[\uD800-\uDBFF]$/,h=/^[\uDC00-\uDFFF]$/,O=function(e,t,o){var r=f(o,t-1),n=f(o,t+1);return c(j,e)&&!c(h,n)||c(h,e)&&!c(j,r)?"\\u"+m(p(e,0),16):e},y=a((function(){return'"\\udf06\\ud834"'!==d("\udf06\ud834")||'"\\udead"'!==d("\udead")}));d&&r({target:"JSON",stat:!0,forced:y},{stringify:function(e,t,o){for(var r=0,n=arguments.length,l=u(n);r<n;r++)l[r]=arguments[r];var s=i(d,null,l);return"string"==typeof s?b(s,g,O):s}})},f7ce:function(e,t,o){}}]);
//# sourceMappingURL=chunk-11fdd3a0.42df482d.js.map