(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-18eb1c2a"],{"04d1":function(e,t,n){var o=n("342f"),r=o.match(/firefox\/(\d+)/i);e.exports=!!r&&+r[1]},1148:function(e,t,n){"use strict";var o=n("da84"),r=n("5926"),a=n("577e"),i=n("1d80"),c=o.RangeError;e.exports=function(e){var t=a(i(this)),n="",o=r(e);if(o<0||o==1/0)throw c("Wrong number of repetitions");for(;o>0;(o>>>=1)&&(t+=t))1&o&&(n+=t);return n}},2532:function(e,t,n){"use strict";var o=n("23e7"),r=n("e330"),a=n("5a34"),i=n("1d80"),c=n("577e"),u=n("ab13"),s=r("".indexOf);o({target:"String",proto:!0,forced:!u("includes")},{includes:function(e){return!!~s(c(i(this)),c(a(e)),arguments.length>1?arguments[1]:void 0)}})},"408a":function(e,t,n){var o=n("e330");e.exports=o(1..valueOf)},"44e7":function(e,t,n){var o=n("861d"),r=n("c6b6"),a=n("b622"),i=a("match");e.exports=function(e){var t;return o(e)&&(void 0!==(t=e[i])?!!t:"RegExp"==r(e))}},"4e82":function(e,t,n){"use strict";var o=n("23e7"),r=n("e330"),a=n("59ed"),i=n("7b0b"),c=n("07fa"),u=n("577e"),s=n("d039"),d=n("addb"),f=n("a640"),l=n("04d1"),b=n("d998"),h=n("2d00"),p=n("512c"),g=[],m=r(g.sort),v=r(g.push),N=s((function(){g.sort(void 0)})),y=s((function(){g.sort(null)})),j=f("sort"),O=!s((function(){if(h)return h<70;if(!(l&&l>3)){if(b)return!0;if(p)return p<603;var e,t,n,o,r="";for(e=65;e<76;e++){switch(t=String.fromCharCode(e),e){case 66:case 69:case 70:case 72:n=3;break;case 68:case 71:n=4;break;default:n=2}for(o=0;o<47;o++)g.push({k:t+o,v:n})}for(g.sort((function(e,t){return t.v-e.v})),o=0;o<g.length;o++)t=g[o].k.charAt(0),r.charAt(r.length-1)!==t&&(r+=t);return"DGBEFHACIJK"!==r}})),_=N||!y||!j||!O,x=function(e){return function(t,n){return void 0===n?-1:void 0===t?1:void 0!==e?+e(t,n)||0:u(t)>u(n)?1:-1}};o({target:"Array",proto:!0,forced:_},{sort:function(e){void 0!==e&&a(e);var t=i(this);if(O)return void 0===e?m(t):m(t,e);var n,o,r=[],u=c(t);for(o=0;o<u;o++)o in t&&v(r,t[o]);d(r,x(e)),n=r.length,o=0;while(o<n)t[o]=r[o++];while(o<u)delete t[o++];return t}})},"512c":function(e,t,n){var o=n("342f"),r=o.match(/AppleWebKit\/(\d+)\./);e.exports=!!r&&+r[1]},5899:function(e,t){e.exports="\t\n\v\f\r                　\u2028\u2029\ufeff"},"58a8":function(e,t,n){var o=n("e330"),r=n("1d80"),a=n("577e"),i=n("5899"),c=o("".replace),u="["+i+"]",s=RegExp("^"+u+u+"*"),d=RegExp(u+u+"*$"),f=function(e){return function(t){var n=a(r(t));return 1&e&&(n=c(n,s,"")),2&e&&(n=c(n,d,"")),n}};e.exports={start:f(1),end:f(2),trim:f(3)}},"5a34":function(e,t,n){var o=n("da84"),r=n("44e7"),a=o.TypeError;e.exports=function(e){if(r(e))throw a("The method doesn't accept regular expressions");return e}},7156:function(e,t,n){var o=n("1626"),r=n("861d"),a=n("d2bb");e.exports=function(e,t,n){var i,c;return a&&o(i=t.constructor)&&i!==n&&r(c=i.prototype)&&c!==n.prototype&&a(e,c),e}},"99af":function(e,t,n){"use strict";var o=n("23e7"),r=n("da84"),a=n("d039"),i=n("e8b5"),c=n("861d"),u=n("7b0b"),s=n("07fa"),d=n("8418"),f=n("65f0"),l=n("1dde"),b=n("b622"),h=n("2d00"),p=b("isConcatSpreadable"),g=9007199254740991,m="Maximum allowed index exceeded",v=r.TypeError,N=h>=51||!a((function(){var e=[];return e[p]=!1,e.concat()[0]!==e})),y=l("concat"),j=function(e){if(!c(e))return!1;var t=e[p];return void 0!==t?!!t:i(e)},O=!N||!y;o({target:"Array",proto:!0,forced:O},{concat:function(e){var t,n,o,r,a,i=u(this),c=f(i,0),l=0;for(t=-1,o=arguments.length;t<o;t++)if(a=-1===t?i:arguments[t],j(a)){if(r=s(a),l+r>g)throw v(m);for(n=0;n<r;n++,l++)n in a&&d(c,l,a[n])}else{if(l>=g)throw v(m);d(c,l++,a)}return c.length=l,c}})},a18b:function(e,t,n){"use strict";n.r(t);n("b0c0"),n("d81d");var o=n("7a23"),r={class:"SubjectNotes"},a=Object(o["l"])(" Vous n'avez aucune note pour l'instant. "),i=Object(o["l"])("Ajouter une note"),c=Object(o["l"])("Supprimer la note"),u=Object(o["l"])("Nom de la note :"),s=Object(o["l"])(" Coefficient "),d=Object(o["l"])(" Note maximale : "),f={class:"buttons"},l=Object(o["l"])("Annuler"),b=Object(o["l"])("Effacer"),h=Object(o["l"])("Ajouter la note");function p(e,t,n,p,g,m){var v=Object(o["G"])("w-table"),N=Object(o["G"])("w-button"),y=Object(o["G"])("w-input"),j=Object(o["G"])("w-select"),O=Object(o["G"])("w-form"),_=Object(o["G"])("w-dialog");return Object(o["y"])(),Object(o["i"])("div",r,[Object(o["m"])(v,{headers:g.table.headers,items:g.table.items,"selectable-rows":g.table.selectableRows,onRowSelect:t[0]||(t[0]=function(e){return g.table.noteSelection=e}),class:"notes"},{"no-data":Object(o["Q"])((function(){return[a]})),_:1},8,["headers","items","selectable-rows"]),g.rights.canModifyNotes?(Object(o["y"])(),Object(o["g"])(N,{key:0,class:"ma1","bg-color":"error",onClick:t[1]||(t[1]=function(e){return g.addNote=!0})},{default:Object(o["Q"])((function(){return[i]})),_:1})):Object(o["h"])("",!0),g.rights.canModifyNotes?(Object(o["y"])(),Object(o["g"])(N,{key:1,class:"ma1","bg-color":"error",onClick:m.removeNote},{default:Object(o["Q"])((function(){return[c]})),_:1},8,["onClick"])):Object(o["h"])("",!0),Object(o["m"])(_,{modelValue:g.addNote,"onUpdate:modelValue":t[7]||(t[7]=function(e){return g.addNote=e}),title:"Ajouter une ou plusieurs notes",width:550,persistent:""},{actions:Object(o["Q"])((function(){return[Object(o["m"])(O,{class:"note-content","no-blur-validation":""},{default:Object(o["Q"])((function(){return[Object(o["m"])(y,{color:"grey-dark5",value:g.inputNote.name,onInput:t[2]||(t[2]=function(e){return g.inputNote.name=e})},{default:Object(o["Q"])((function(){return[u]})),_:1},8,["value"]),Object(o["m"])(j,{color:"grey-dark5",items:e.getGroup.users.map((function(e){return{label:e.name+" "+e.last_name+" ("+e.username+")",value:e}})),label:"Élève :",onInput:t[3]||(t[3]=function(e){return g.inputNote.user=e})},null,8,["items"]),Object(o["m"])(y,{color:"grey-dark5",type:"number",min:"0",max:g.maxNote,onInput:t[4]||(t[4]=function(e){return g.inputNote.note=e})},{default:Object(o["Q"])((function(){return[Object(o["l"])(" Note"+Object(o["K"])(g.maxNote&&""!==g.maxNote?"":" (/ ".concat(g.maxNote,")")),1)]})),_:1},8,["max"]),Object(o["m"])(y,{color:"grey-dark5",onInput:t[5]||(t[5]=function(e){return g.inputNote.coef=e}),type:"number",min:"0"},{default:Object(o["Q"])((function(){return[s]})),_:1}),Object(o["m"])(y,{required:"",color:"grey-dark5",type:"number",min:"0",max:"1000",modelValue:g.maxNote,"onUpdate:modelValue":t[6]||(t[6]=function(e){return g.maxNote=e}),onInput:m.changeMaxNote},{default:Object(o["Q"])((function(){return[d]})),_:1},8,["modelValue","onInput"]),Object(o["j"])("div",f,[Object(o["m"])(N,{class:"ma1","bg-color":"error",onClick:m.cancel},{default:Object(o["Q"])((function(){return[l]})),_:1},8,["onClick"]),Object(o["m"])(N,{class:"ma1",type:"reset","bg-color":"warning"},{default:Object(o["Q"])((function(){return[b]})),_:1}),Object(o["m"])(N,{class:"ma1",type:"submit","bg-color":"success",disabled:!m.formWellFilled(),onClick:m.addNoteForUser},{default:Object(o["Q"])((function(){return[h]})),_:1},8,["disabled","onClick"])])]})),_:1})]})),_:1},8,["modelValue"])])}var g=n("5530"),m=(n("a9e3"),n("4de4"),n("d3b7"),n("99af"),n("159b"),n("b680"),n("4e82"),n("caad"),n("2532"),n("5502")),v=n("bc3a"),N=n.n(v),y={name:"SubjectNotes",data:function(){return{table:{headers:[{label:"Nom",key:"name"},{label:"Coefficient",key:"coef"},{label:"Note (/20)",key:"note"}],selectableRows:1,items:[],noteSelection:{}},addNote:!1,inputNote:{name:"",user:{},note:"",coef:""},maxNote:20,validators:{required:function(e){return!!e||"Vous devez entrer une valeur ici."}},rights:{canSendMessage:!1,canReadMessage:!1,canChangeGroup:!1,canModifyRoom:!1,canModifyNotes:!1,canStream:!1}}},methods:{changeMaxNote:function(e){this.maxNote=e},cancel:function(){this.addNote=!1,this.inputNote={name:"",user:{},note:"",coef:""},this.maxNote=20},formWellFilled:function(){return Boolean(""!==this.inputNote.coef&&""!==this.inputNote.name&&""!==this.inputNote.note&&this.inputNote.user)},addNoteForUser:function(){var e=this;this.formWellFilled()&&N.a.post("/api/note/addNewNote",{user_id:this.inputNote.user.id,group_id:this.getGroup.groups_id,note:Number(this.inputNote.note)/this.maxNote*20,coef:Number(this.inputNote.coef),titre:this.inputNote.name}).then((function(t){e.table.items.push({id:t.data.note_id,name:t.data.titre,coef:t.data.coef,note:t.data.note})})),this.addNote=!1},removeNote:function(){var e,t=this;(null===(e=this.table.noteSelection.item)||void 0===e?void 0:e.id)>=0&&N.a.delete("/api/note/deleteNoteById?note_id=".concat(this.table.noteSelection.item.id)).then((function(){t.table.items=t.table.items.filter((function(e){return e.id!==t.table.noteSelection.item.id}))}))}},computed:Object(g["a"])({},Object(m["c"])(["getGroup","getUser"])),beforeRouteUpdate:function(){var e=this;"STUDENT"===this.getUser.role&&N.a.get("/api/note/getUserNoteByGroupId?group_id=".concat(this.getGroup.groups_id,"&user_id=").concat(this.getUser.id)).then((function(t){if(e.table.items=t.data.map((function(e){return{id:e.note_id,name:e.titre,coef:e.coef,note:e.note}})),t.data.length>0){var n=0,o=0;e.table.items.forEach((function(e){n+=e.note*e.coef,o+=e.coef})),n/=o,e.table.items.push({id:-1,name:"Moyenne générale".toUpperCase(),coef:"-",note:n.toFixed(2)})}})),N.a.get("/api/groups/getRoleByGroupAndUser?user_id=".concat(this.getUser.id,"&group_id=").concat(this.getGroup.groups_id)).then((function(t){var n=!1;if(t.data.forEach((function(e){"*"===e.rights&&(n=!0)})),n)e.rights={canSendMessage:!0,canReadMessage:!0,canChangeGroup:!0,canModifyRoom:!0,canModifyNotes:!0,canStream:!0};else{t.data.sort((function(e,t){return e.rights.length-t.rights.length}));var o=t.data[t.data.length-1].rights;e.rights={canSendMessage:o.includes("s"),canReadMessage:o.includes("r"),canChangeGroup:o.includes("p"),canModifyRoom:o.includes("c"),canModifyNotes:o.includes("n"),canStream:o.includes("l")}}e.rights.canModifyNotes&&N.a.get("/api/note/getAllNoteByGroupId?group_id=".concat(e.getGroup.groups_id)).then((function(t){if(e.table.items=t.data.map((function(e){return{id:e.id,name:e.titre,coef:e.coef,note:e.note}})),t.data.length>0){var n=0,o=0;e.table.items.forEach((function(e){n+=e.note*e.coef,o+=e.coef})),n/=o,e.table.items.push({id:-1,name:"Moyenne de la classe :".toUpperCase(),coef:"-",note:n.toFixed(2)})}}))}))},mounted:function(){var e=this;"STUDENT"===this.getUser.role&&N.a.get("/api/note/getUserNoteByGroupId?group_id=".concat(this.getGroup.groups_id,"&user_id=").concat(this.getUser.id)).then((function(t){if(e.table.items=t.data.map((function(e){return{id:e.note_id,name:e.titre,coef:e.coef,note:e.note}})),t.data.length>0){var n=0,o=0;e.table.items.forEach((function(e){n+=e.note*e.coef,o+=e.coef})),n/=o,e.table.items.push({id:-1,name:"Moyenne générale".toUpperCase(),coef:"-",note:n.toFixed(2)})}})),N.a.get("/api/groups/getRoleByGroupAndUser?user_id=".concat(this.getUser.id,"&group_id=").concat(this.getGroup.groups_id)).then((function(t){var n=!1;if(t.data.forEach((function(e){"*"===e.rights&&(n=!0)})),n)e.rights={canSendMessage:!0,canReadMessage:!0,canChangeGroup:!0,canModifyRoom:!0,canModifyNotes:!0,canStream:!0};else{t.data.sort((function(e,t){return e.rights.length-t.rights.length}));var o=t.data[t.data.length-1].rights;e.rights={canSendMessage:o.includes("s"),canReadMessage:o.includes("r"),canChangeGroup:o.includes("p"),canModifyRoom:o.includes("c"),canModifyNotes:o.includes("n"),canStream:o.includes("l")}}e.rights.canModifyNotes&&N.a.get("/api/note/getAllNoteByGroupId?group_id=".concat(e.getGroup.groups_id)).then((function(t){if(e.table.items=t.data.map((function(e){return{id:e.note_id,name:e.titre,coef:e.coef,note:e.note}})),t.data.length>0){var n=0,o=0;e.table.items.forEach((function(e){n+=e.note*e.coef,o+=e.coef})),n/=o,e.table.items.push({id:-1,name:"Moyenne de la classe :".toUpperCase(),coef:"-",note:n.toFixed(2)})}}))}))}},j=(n("ea74"),n("6b0d")),O=n.n(j);const _=O()(y,[["render",p],["__scopeId","data-v-060ceedb"]]);t["default"]=_},a9e3:function(e,t,n){"use strict";var o=n("83ab"),r=n("da84"),a=n("e330"),i=n("94ca"),c=n("6eeb"),u=n("1a2d"),s=n("7156"),d=n("3a9b"),f=n("d9b5"),l=n("c04e"),b=n("d039"),h=n("241c").f,p=n("06cf").f,g=n("9bf2").f,m=n("408a"),v=n("58a8").trim,N="Number",y=r[N],j=y.prototype,O=r.TypeError,_=a("".slice),x=a("".charCodeAt),w=function(e){var t=l(e,"number");return"bigint"==typeof t?t:M(t)},M=function(e){var t,n,o,r,a,i,c,u,s=l(e,"number");if(f(s))throw O("Cannot convert a Symbol value to a number");if("string"==typeof s&&s.length>2)if(s=v(s),t=x(s,0),43===t||45===t){if(n=x(s,2),88===n||120===n)return NaN}else if(48===t){switch(x(s,1)){case 66:case 98:o=2,r=49;break;case 79:case 111:o=8,r=55;break;default:return+s}for(a=_(s,2),i=a.length,c=0;c<i;c++)if(u=x(a,c),u<48||u>r)return NaN;return parseInt(a,o)}return+s};if(i(N,!y(" 0o1")||!y("0b1")||y("+0x1"))){for(var S,I=function(e){var t=arguments.length<1?0:y(w(e)),n=this;return d(j,n)&&b((function(){m(n)}))?s(Object(t),n,I):t},E=o?h(y):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,isFinite,isInteger,isNaN,isSafeInteger,parseFloat,parseInt,fromString,range".split(","),G=0;E.length>G;G++)u(y,S=E[G])&&!u(I,S)&&g(I,S,p(y,S));I.prototype=j,j.constructor=I,c(r,N,I)}},ab13:function(e,t,n){var o=n("b622"),r=o("match");e.exports=function(e){var t=/./;try{"/./"[e](t)}catch(n){try{return t[r]=!1,"/./"[e](t)}catch(o){}}return!1}},addb:function(e,t,n){var o=n("4dae"),r=Math.floor,a=function(e,t){var n=e.length,u=r(n/2);return n<8?i(e,t):c(e,a(o(e,0,u),t),a(o(e,u),t),t)},i=function(e,t){var n,o,r=e.length,a=1;while(a<r){o=a,n=e[a];while(o&&t(e[o-1],n)>0)e[o]=e[--o];o!==a++&&(e[o]=n)}return e},c=function(e,t,n,o){var r=t.length,a=n.length,i=0,c=0;while(i<r||c<a)e[i+c]=i<r&&c<a?o(t[i],n[c])<=0?t[i++]:n[c++]:i<r?t[i++]:n[c++];return e};e.exports=a},b0c0:function(e,t,n){var o=n("83ab"),r=n("5e77").EXISTS,a=n("e330"),i=n("9bf2").f,c=Function.prototype,u=a(c.toString),s=/function\b(?:\s|\/\*[\S\s]*?\*\/|\/\/[^\n\r]*[\n\r]+)*([^\s(/]*)/,d=a(s.exec),f="name";o&&!r&&i(c,f,{configurable:!0,get:function(){try{return d(s,u(this))[1]}catch(e){return""}}})},b63c:function(e,t,n){},b680:function(e,t,n){"use strict";var o=n("23e7"),r=n("da84"),a=n("e330"),i=n("5926"),c=n("408a"),u=n("1148"),s=n("d039"),d=r.RangeError,f=r.String,l=Math.floor,b=a(u),h=a("".slice),p=a(1..toFixed),g=function(e,t,n){return 0===t?n:t%2===1?g(e,t-1,n*e):g(e*e,t/2,n)},m=function(e){var t=0,n=e;while(n>=4096)t+=12,n/=4096;while(n>=2)t+=1,n/=2;return t},v=function(e,t,n){var o=-1,r=n;while(++o<6)r+=t*e[o],e[o]=r%1e7,r=l(r/1e7)},N=function(e,t){var n=6,o=0;while(--n>=0)o+=e[n],e[n]=l(o/t),o=o%t*1e7},y=function(e){var t=6,n="";while(--t>=0)if(""!==n||0===t||0!==e[t]){var o=f(e[t]);n=""===n?o:n+b("0",7-o.length)+o}return n},j=s((function(){return"0.000"!==p(8e-5,3)||"1"!==p(.9,0)||"1.25"!==p(1.255,2)||"1000000000000000128"!==p(0xde0b6b3a7640080,0)}))||!s((function(){p({})}));o({target:"Number",proto:!0,forced:j},{toFixed:function(e){var t,n,o,r,a=c(this),u=i(e),s=[0,0,0,0,0,0],l="",p="0";if(u<0||u>20)throw d("Incorrect fraction digits");if(a!=a)return"NaN";if(a<=-1e21||a>=1e21)return f(a);if(a<0&&(l="-",a=-a),a>1e-21)if(t=m(a*g(2,69,1))-69,n=t<0?a*g(2,-t,1):a/g(2,t,1),n*=4503599627370496,t=52-t,t>0){v(s,0,n),o=u;while(o>=7)v(s,1e7,0),o-=7;v(s,g(10,o,1),0),o=t-1;while(o>=23)N(s,1<<23),o-=23;N(s,1<<o),v(s,1,1),N(s,2),p=y(s)}else v(s,0,n),v(s,1<<-t,0),p=y(s)+b("0",u);return u>0?(r=p.length,p=l+(r<=u?"0."+b("0",u-r)+p:h(p,0,r-u)+"."+h(p,r-u))):p=l+p,p}})},caad:function(e,t,n){"use strict";var o=n("23e7"),r=n("4d64").includes,a=n("44d2");o({target:"Array",proto:!0},{includes:function(e){return r(this,e,arguments.length>1?arguments[1]:void 0)}}),a("includes")},d81d:function(e,t,n){"use strict";var o=n("23e7"),r=n("b727").map,a=n("1dde"),i=a("map");o({target:"Array",proto:!0,forced:!i},{map:function(e){return r(this,e,arguments.length>1?arguments[1]:void 0)}})},d998:function(e,t,n){var o=n("342f");e.exports=/MSIE|Trident/.test(o)},ea74:function(e,t,n){"use strict";n("b63c")}}]);
//# sourceMappingURL=chunk-18eb1c2a.b2b9b6d4.js.map