(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-95b2b8fe"],{"04d1":function(e,t,n){var o=n("342f"),r=o.match(/firefox\/(\d+)/i);e.exports=!!r&&+r[1]},2532:function(e,t,n){"use strict";var o=n("23e7"),r=n("e330"),c=n("5a34"),a=n("1d80"),i=n("577e"),u=n("ab13"),s=r("".indexOf);o({target:"String",proto:!0,forced:!u("includes")},{includes:function(e){return!!~s(i(a(this)),i(c(e)),arguments.length>1?arguments[1]:void 0)}})},"44e7":function(e,t,n){var o=n("861d"),r=n("c6b6"),c=n("b622"),a=c("match");e.exports=function(e){var t;return o(e)&&(void 0!==(t=e[a])?!!t:"RegExp"==r(e))}},"4e82":function(e,t,n){"use strict";var o=n("23e7"),r=n("e330"),c=n("59ed"),a=n("7b0b"),i=n("07fa"),u=n("577e"),s=n("d039"),d=n("addb"),f=n("a640"),l=n("04d1"),h=n("d998"),b=n("2d00"),g=n("512c"),m=[],p=r(m.sort),v=r(m.push),j=s((function(){m.sort(void 0)})),O=s((function(){m.sort(null)})),w=f("sort"),R=!s((function(){if(b)return b<70;if(!(l&&l>3)){if(h)return!0;if(g)return g<603;var e,t,n,o,r="";for(e=65;e<76;e++){switch(t=String.fromCharCode(e),e){case 66:case 69:case 70:case 72:n=3;break;case 68:case 71:n=4;break;default:n=2}for(o=0;o<47;o++)m.push({k:t+o,v:n})}for(m.sort((function(e,t){return t.v-e.v})),o=0;o<m.length;o++)t=m[o].k.charAt(0),r.charAt(r.length-1)!==t&&(r+=t);return"DGBEFHACIJK"!==r}})),y=j||!O||!w||!R,M=function(e){return function(t,n){return void 0===n?-1:void 0===t?1:void 0!==e?+e(t,n)||0:u(t)>u(n)?1:-1}};o({target:"Array",proto:!0,forced:y},{sort:function(e){void 0!==e&&c(e);var t=a(this);if(R)return void 0===e?p(t):p(t,e);var n,o,r=[],u=i(t);for(o=0;o<u;o++)o in t&&v(r,t[o]);d(r,M(e)),n=r.length,o=0;while(o<n)t[o]=r[o++];while(o<u)delete t[o++];return t}})},"512c":function(e,t,n){var o=n("342f"),r=o.match(/AppleWebKit\/(\d+)\./);e.exports=!!r&&+r[1]},"5a34":function(e,t,n){var o=n("da84"),r=n("44e7"),c=o.TypeError;e.exports=function(e){if(r(e))throw c("The method doesn't accept regular expressions");return e}},"676c":function(e,t,n){},"99af":function(e,t,n){"use strict";var o=n("23e7"),r=n("da84"),c=n("d039"),a=n("e8b5"),i=n("861d"),u=n("7b0b"),s=n("07fa"),d=n("8418"),f=n("65f0"),l=n("1dde"),h=n("b622"),b=n("2d00"),g=h("isConcatSpreadable"),m=9007199254740991,p="Maximum allowed index exceeded",v=r.TypeError,j=b>=51||!c((function(){var e=[];return e[g]=!1,e.concat()[0]!==e})),O=l("concat"),w=function(e){if(!i(e))return!1;var t=e[g];return void 0!==t?!!t:a(e)},R=!j||!O;o({target:"Array",proto:!0,forced:R},{concat:function(e){var t,n,o,r,c,a=u(this),i=f(a,0),l=0;for(t=-1,o=arguments.length;t<o;t++)if(c=-1===t?a:arguments[t],w(c)){if(r=s(c),l+r>m)throw v(p);for(n=0;n<r;n++,l++)n in c&&d(i,l,c[n])}else{if(l>=m)throw v(p);d(i,l++,c)}return i.length=l,i}})},ab13:function(e,t,n){var o=n("b622"),r=o("match");e.exports=function(e){var t=/./;try{"/./"[e](t)}catch(n){try{return t[r]=!1,"/./"[e](t)}catch(o){}}return!1}},addb:function(e,t,n){var o=n("4dae"),r=Math.floor,c=function(e,t){var n=e.length,u=r(n/2);return n<8?a(e,t):i(e,c(o(e,0,u),t),c(o(e,u),t),t)},a=function(e,t){var n,o,r=e.length,c=1;while(c<r){o=c,n=e[c];while(o&&t(e[o-1],n)>0)e[o]=e[--o];o!==c++&&(e[o]=n)}return e},i=function(e,t,n,o){var r=t.length,c=n.length,a=0,i=0;while(a<r||i<c)e[a+i]=a<r&&i<c?o(t[a],n[i])<=0?t[a++]:n[i++]:a<r?t[a++]:n[i++];return e};e.exports=c},b0c0:function(e,t,n){var o=n("83ab"),r=n("5e77").EXISTS,c=n("e330"),a=n("9bf2").f,i=Function.prototype,u=c(i.toString),s=/function\b(?:\s|\/\*[\S\s]*?\*\/|\/\/[^\n\r]*[\n\r]+)*([^\s(/]*)/,d=c(s.exec),f="name";o&&!r&&a(i,f,{configurable:!0,get:function(){try{return d(s,u(this))[1]}catch(e){return""}}})},b89f:function(e,t,n){"use strict";n.r(t);n("b0c0"),n("99af");var o=n("7a23"),r=function(e){return Object(o["B"])("data-v-71b9507c"),e=e(),Object(o["z"])(),e},c={class:"SubjectChat"},a={class:"rooms-list"},i={class:"server-name"},u={class:"addNewRoom"},s=r((function(){return Object(o["j"])("span",null,"Ajouter un salon :",-1)})),d=Object(o["l"])("Nom de la room :"),f=Object(o["l"])("Ajouter la room"),l=r((function(){return Object(o["j"])("div",{class:"separator"},null,-1)})),h={class:"chat"};function b(e,t,n,r,b,g){var m,p=Object(o["G"])("router-link"),v=Object(o["G"])("w-input"),j=Object(o["G"])("w-button"),O=Object(o["G"])("w-dialog"),w=Object(o["G"])("router-view");return Object(o["y"])(),Object(o["i"])("div",c,[Object(o["j"])("div",a,[Object(o["j"])("div",i,Object(o["K"])(null===(m=e.getGroup.server)||void 0===m?void 0:m.name),1),(Object(o["y"])(!0),Object(o["i"])(o["a"],null,Object(o["E"])(e.getGroup.server.rooms,(function(t){return Object(o["y"])(),Object(o["g"])(p,{onClick:function(n){return e.setConvUUID(t.room_id)},to:"/groupes/subject/".concat(e.getGroup.groups_id,"/discussion/").concat(t.room_id,"?name=").concat(t.room_name),class:"room",key:t.room_id},{default:Object(o["R"])((function(){return[Object(o["l"])(" # "+Object(o["K"])(t.room_name),1)]})),_:2},1032,["onClick","to"])})),128)),b.rights.canModifyRoom?(Object(o["y"])(),Object(o["i"])("button",{key:0,class:"addRoom",onClick:t[0]||(t[0]=function(e){return b.showAddRoom=!0})}," + ")):Object(o["h"])("",!0),Object(o["m"])(O,{modelValue:b.showAddRoom,"onUpdate:modelValue":t[2]||(t[2]=function(e){return b.showAddRoom=e}),width:400},{default:Object(o["R"])((function(){return[Object(o["j"])("div",u,[s,Object(o["m"])(v,{autocomplete:"off",modelValue:b.newRoomName,"onUpdate:modelValue":t[1]||(t[1]=function(e){return b.newRoomName=e})},{default:Object(o["R"])((function(){return[d]})),_:1},8,["modelValue"]),Object(o["m"])(j,{class:"ma1","bg-color":"success",onClick:g.createNewRoom},{default:Object(o["R"])((function(){return[f]})),_:1},8,["onClick"])])]})),_:1},8,["modelValue"])]),l,Object(o["j"])("div",h,[Object(o["m"])(w)])])}var g=n("5530"),m=(n("d3b7"),n("159b"),n("4e82"),n("caad"),n("2532"),n("5502")),p=n("bc3a"),v=n.n(p),j={name:"SubjectChat",computed:Object(g["a"])({},Object(m["c"])(["getGroup","getUser"])),methods:Object(g["a"])(Object(g["a"])({},Object(m["b"])(["setConvUUID"])),{},{createNewRoom:function(){var e=this;""!==this.newRoomName&&v.a.post("/api/server/addRoom?server_id=".concat(this.getGroup.server.server_id,"&name=").concat(this.newRoomName)).then((function(t){e.getGroup.server.rooms.push(t.data),e.newRoomName="",e.showAddRoom=!1}))}}),data:function(){return{rights:{canSendMessage:!1,canReadMessage:!1,canChangeGroup:!1,canModifyRoom:!1,canModifyNotes:!1,canStream:!1},showAddRoom:!1,newRoomName:""}},beforeRouteUpdate:function(){var e=this;v.a.get("/api/groups/getRoleByGroupAndUser?user_id=".concat(this.getUser.id,"&group_id=").concat(this.getGroup.groups_id)).then((function(t){var n=!1;if(t.data.forEach((function(e){"*"===e.rights&&(n=!0)})),n)e.rights={canSendMessage:!0,canReadMessage:!0,canChangeGroup:!0,canModifyRoom:!0,canModifyNotes:!0,canStream:!0};else{t.data.sort((function(e,t){return e.rights.length-t.rights.length}));var o=t.data[t.data.length-1].rights;e.rights={canSendMessage:o.includes("s"),canReadMessage:o.includes("r"),canChangeGroup:o.includes("p"),canModifyRoom:o.includes("c"),canModifyNotes:o.includes("n"),canStream:o.includes("l")}}}))},mounted:function(){var e=this;v.a.get("/api/groups/getRoleByGroupAndUser?user_id=".concat(this.getUser.id,"&group_id=").concat(this.getGroup.groups_id)).then((function(t){var n=!1;if(t.data.forEach((function(e){"*"===e.rights&&(n=!0)})),n)e.rights={canSendMessage:!0,canReadMessage:!0,canChangeGroup:!0,canModifyRoom:!0,canModifyNotes:!0,canStream:!0};else{t.data.sort((function(e,t){return e.rights.length-t.rights.length}));var o=t.data[t.data.length-1].rights;e.rights={canSendMessage:o.includes("s"),canReadMessage:o.includes("r"),canChangeGroup:o.includes("p"),canModifyRoom:o.includes("c"),canModifyNotes:o.includes("n"),canStream:o.includes("l")}}}))}},O=(n("f36a4"),n("6b0d")),w=n.n(O);const R=w()(j,[["render",b],["__scopeId","data-v-71b9507c"]]);t["default"]=R},caad:function(e,t,n){"use strict";var o=n("23e7"),r=n("4d64").includes,c=n("44d2");o({target:"Array",proto:!0},{includes:function(e){return r(this,e,arguments.length>1?arguments[1]:void 0)}}),c("includes")},d998:function(e,t,n){var o=n("342f");e.exports=/MSIE|Trident/.test(o)},f36a4:function(e,t,n){"use strict";n("676c")}}]);
//# sourceMappingURL=chunk-95b2b8fe.6f74f77f.js.map