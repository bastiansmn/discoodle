{"version":3,"sources":["webpack:///./src/components/groups/SubjectSettings.vue?7279","webpack:///./node_modules/core-js/modules/es.array.find.js","webpack:///./src/components/groups/SubjectSettings.vue","webpack:///./src/components/groups/SubjectSettings.vue?0d68","webpack:///./node_modules/core-js/modules/es.array.splice.js","webpack:///./node_modules/core-js/modules/es.array.map.js"],"names":["$","$find","find","addToUnscopables","FIND","SKIPS_HOLES","Array","target","proto","forced","callbackfn","this","arguments","length","undefined","class","style","for","info","plain","getGroup","groups_id","token","viewedInfo","headers","users","items","list","selectable-rows","selection","$event","item","sort","no-data","bg-color","disabled","removeUsers","prepareModifyRoles","removeAll","modifyRole","show","width","name","last_name","userRoles","a","b","role","key","value","role_id","label","deleteRoleForUser","groupRoles","filter","e","rolesToAdd","multiple","addRoleForUser","addGroup","fullscreen","persistent","persistent-no-animation","persistentNoAnimation","autocomplete","color","required","data","init","type","groupTypes","map","add","id","ref","accept","onSubjectUpload","uploaded","uploadFile","$refs","uploadInput","files","roles","roleToEdit","changeRoleShown","createRole","addNewRole","validators","JSON","stringify","deleteRole","rights","canSendMessage","roleEdited","roles_idList","includes","canReadMessage","canChangeGroup","canModifyRoom","canModifyNotes","canStream","editRole","typeTranslation","roleTranslation","types","order","formData","methods","event","replaceAll","substring","keyCode","post","parent_id","user_id","getUser","depth","description","Object","keys","text","then","response","$emit","forEach","elt","splice","indexOf","delete","getOrder","res","file","FormData","append","url","method","Accept","temp","right","put","loadRoles","get","userHaveRole","haveRole","push","computed","mounted","username","render","__scopeId","toAbsoluteIndex","toInteger","toLength","toObject","arraySpeciesCreate","createProperty","arrayMethodHasSpeciesSupport","HAS_SPECIES_SUPPORT","max","Math","min","MAX_SAFE_INTEGER","MAXIMUM_ALLOWED_LENGTH_EXCEEDED","start","deleteCount","insertCount","actualDeleteCount","A","k","from","to","O","len","actualStart","argumentsLength","TypeError","$map"],"mappings":"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","file":"static/js/chunk-4c7f4355.c21dccb5.js","sourcesContent":["export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./SubjectSettings.vue?vue&type=style&index=0&id=3b80a1f4&scoped=true&lang=css\"","'use strict';\nvar $ = require('../internals/export');\nvar $find = require('../internals/array-iteration').find;\nvar addToUnscopables = require('../internals/add-to-unscopables');\n\nvar FIND = 'find';\nvar SKIPS_HOLES = true;\n\n// Shouldn't skip holes\nif (FIND in []) Array(1)[FIND](function () { SKIPS_HOLES = false; });\n\n// `Array.prototype.find` method\n// https://tc39.es/ecma262/#sec-array.prototype.find\n$({ target: 'Array', proto: true, forced: SKIPS_HOLES }, {\n  find: function find(callbackfn /* , that = undefined */) {\n    return $find(this, callbackfn, arguments.length > 1 ? arguments[1] : undefined);\n  }\n});\n\n// https://tc39.es/ecma262/#sec-array.prototype-@@unscopables\naddToUnscopables(FIND);\n","<template>\n   <div class=\"SubjectSettings\">\n      <div class=\"row\">\n         <div class=\"group-info card\">\n            <span class=\"card-title\">Informations du groupe :</span>\n            <w-alert info plain>Ce sont ces informations que vous devez transmettre pour vous connecter au groupe\n            </w-alert>\n            <span>Identifiant du groupe : <strong>{{ getGroup.groups_id }}</strong></span>\n            <span>Clé de connexion au groupe : <strong>{{ getGroup.token }}</strong></span>\n         </div>\n\n         <div class=\"users-list card\">\n            <span class=\"card-title\"\n                  style=\"height: 12%; max-height: 12%;\">Utilisateurs du groupe : (vous exclu)</span>\n            <w-alert info plain v-if=\"viewedInfo\">\n               La rôle utilisateur n'est PAS le rôle que vous affectez à un utilisateur. C'est le statut qu'il a\n               vis-à-vis du site\n               <button @click=\"viewedInfo = false\"\n                       style=\"cursor: pointer; text-decoration: underline; background: none; outline: none; border: none; color: #F4F4F4; margin-left: 5px;\">\n                  Compris !\n               </button>\n            </w-alert>\n            <div style=\"height: 75%; width: 100%; max-height: 75%;\">\n               <w-table\n                     class=\"users-table\"\n                     :headers=\"users.headers\"\n                     :items=\"users.list\"\n                     :selectable-rows=\"true\"\n                     @row-select=\"users.selection = [$event.item]\"\n                     sort=\"+role\"\n               >\n                  <template #no-data>\n                     Il n'y a pas d'utilisateurs dans le groupe.\n                  </template>\n               </w-table>\n            </div>\n            <div style=\"display: flex; align-items: center; justify-content: space-between; width: 100%; height: 7%; max-height: 7%\">\n               <w-button class=\"ma1\" bg-color=\"error\" :disabled=\"users.selection.length === 0\" @click=\"removeUsers\">\n                  Supprimer la sélection\n               </w-button>\n               <w-button class=\"ma1\" bg-color=\"error\" :disabled=\"users.selection.length !== 1\"\n                         @click=\"prepareModifyRoles\">Modifier le rôle\n               </w-button>\n               <w-button class=\"ma1\" bg-color=\"error\" :disabled=\"users.list.length === 0\" @click=\"removeAll\">Effacer\n                  tout\n               </w-button>\n\n\n               <w-dialog\n                     v-model=\"modifyRole.show\"\n                     :width=\"500\"\n               >\n                  <div class=\"add-role\">\n                     <h3 style=\"color: #2d2d2d\">\n                        Rôle(s) de {{ users.selection[0].name }} {{ users.selection[0].last_name }}:\n                     </h3>\n                     <div class=\"user-roles\">\n                        <span :key=\"role.value.role_id\" v-for=\"role in modifyRole.userRoles.sort((a, b) => {\n                           if (a.value.rights === '*')\n                              return -1;\n                           if (b.value.rights === '*')\n                              return 1;\n                           if (a.value.rights === '-')\n                              return 1;\n                           if (b.value.rights === '-')\n                              return -1;\n                           return a.value.rights.length - b.value.rights.length;\n                        })\">\n                           {{ role.label }}\n                           <w-button bg-color=\"error\" :disabled=\"modifyRole.userRoles.length <= 1\" @click=\"deleteRoleForUser(role.value)\">\n                              Enlever\n                           </w-button>\n                        </span>\n                     </div>\n\n                     <w-select\n                           :items=\"modifyRole.groupRoles.filter(e => {\n                           return !userHaveRole(users.selection[0].id, e.role_id)\n                           }).map(e => {\n                              return {\n                                 label: e.name,\n                                 value: e\n                              }\n                           })\"\n                           v-model=\"modifyRole.rolesToAdd\"\n                           label=\"Rôle(s) à ajouter :\"\n                           :multiple=\"modifyRole.groupRoles.length > 1\"\n                     >\n\n                     </w-select>\n\n                     <w-button plain bg-color=\"success\" :disabled=\"modifyRole.rolesToAdd.length === 0\"\n                               @click=\"addRoleForUser\">Ajouter le(s) rôle(s) sélectionné(s)\n                     </w-button>\n                  </div>\n               </w-dialog>\n            </div>\n         </div>\n\n      </div>\n\n      <div class=\"row\">\n         <div class=\"card option-panel\">\n            <span class=\"card-title\">Configuration :</span>\n\n            <w-button bg-color=\"error\" @click=\"addGroup.show = true\" style=\"align-self: flex-start\">Ajouter un\n               sous-groupe\n            </w-button>\n            <w-dialog\n                  v-model=\"addGroup.show\"\n                  :fullscreen=\"addGroup.fullscreen\"\n                  :width=\"addGroup.width\"\n                  :persistent=\"addGroup.persistent\"\n                  :persistent-no-animation=\"addGroup.persistentNoAnimation\"\n            >\n               <div class=\"addGroup\">\n                  <span style=\"margin-bottom: 10px; font-size: 19px; font-weight: 600; color: #454150\">Créer un groupe :</span>\n                  <w-input autocomplete=\"off\" color=\"grey-dark3\" required style=\"margin-bottom: 10px; width: 90%\"\n                           v-model=\"addGroup.data.name\">\n                     Nom du sous-groupe.\n                  </w-input>\n                  <w-input autocomplete=\"off\" color=\"grey-dark3\" required style=\"margin-bottom: 10px; width: 90%\"\n                           v-model=\"addGroup.data.init\">\n                     Initiales du groupe\n                  </w-input>\n\n                  <span style=\"color: #565656\">Type de groupe :</span>\n                  <w-select color=\"grey-dark3\" required style=\"margin-bottom: 10px; width: 90%; z-index: 500\"\n                            v-model=\"addGroup.data.type\"\n                            :items=\"groupTypes.map(e => {\n                         return {\n                            label: typeTranslation[e.label]\n                         }\n                      })\">\n                  </w-select>\n                  <w-button bg-color=\"error\" @click=\"add\">\n                     Créer !\n                  </w-button>\n               </div>\n            </w-dialog>\n\n            <div class=\"uploadFile\">\n               <label for=\"fileUp\">Ajouter une page d'accueil </label>\n               <input id=\"fileUp\" ref=\"uploadInput\" type=\"file\" accept=\".md,.txt\"\n                      @change=\"onSubjectUpload(); uploaded = true\">\n               <button class=\"validate\" v-if=\"uploaded\" @click=\"uploadFile(); uploaded = false\">✔</button>\n               <button class=\"cancel\" v-if=\"uploaded\" @click=\"uploaded = false\">X</button>\n            </div>\n            <span v-if=\"uploaded\" style=\"color: #F4F4F4\">{{ $refs.uploadInput.files[0].name }}</span>\n         </div>\n      </div>\n\n      <div class=\"row\" style=\"height: 480px;\">\n         <div class=\"card role-edit\">\n            <span class=\"card-title\">\n               Rôles du groupe :\n            </span>\n\n            <div class=\"role-nav\">\n               <div class=\"roles-list\">\n                  <button class=\"role-button\" :key=\"role.role_id\"\n                          v-for=\"role in getGroup.roles\"\n                          :style=\"role.name === roleToEdit.role.name ? { color: '#f65555', fontWeight: 600 } : {}\"\n                          @click=\"changeRoleShown(role)\">\n                     {{ role.name }}\n                  </button>\n                  <w-button style=\"margin-top: 10px;\" bg-color=\"error\" @click=\"createRole.show = true\">\n                     Nouveau\n                  </w-button>\n\n                  <w-dialog\n                     :width=\"500\"\n                     v-model=\"createRole.show\"\n                  >\n                     <h2 style=\"color: #2d2d2d\">Créer un nouveau rôle :</h2>\n                     <w-form\n                        @success=\"addNewRole\"\n                     >\n                        <w-input v-model=\"createRole.value\" style=\"margin-bottom: 10px;\" :validators=\"[createRole.validators.required]\">Nom du rôle :</w-input>\n\n                        <w-button type=\"submit\">Créer</w-button>\n                     </w-form>\n                  </w-dialog>\n               </div>\n               <div class=\"rights\" v-if=\"JSON.stringify({}) !== JSON.stringify(roleToEdit.role)\">\n                  <div style=\"display: flex; align-items: center; justify-content: space-between\">\n                     <span style=\"font-size: 16px; font-weight: 600;\">Rôle : {{ roleToEdit.role.name }}</span>\n\n                     <w-button\n                        bg-color=\"error\"\n                        :disabled=\"roleToEdit.role.name === 'Etudiant' || roleToEdit.role.name === 'Admin'\"\n                        @click=\"deleteRole\"\n                     >\n                        Supprimer le rôle\n                     </w-button>\n                  </div>\n\n                  <div class=\"right\">\n                     <span>Permission d'envoyer des messages : </span>\n                     <w-switch\n                           class=\"ma2\"\n                           :value=\"true\"\n                           color=\"success\"\n                           v-model=\"roleToEdit.rights.canSendMessage\"\n                           @input=\"roleEdited = true\"\n                           :disabled=\"roles_idList.includes(roleToEdit.role.role_id)\"\n                     >\n                     </w-switch>\n                  </div>\n\n                  <div class=\"right\">\n                     <span>Permission de lire des messages : </span>\n                     <w-switch\n                           class=\"ma2\"\n                           :value=\"true\"\n                           color=\"success\"\n                           v-model=\"roleToEdit.rights.canReadMessage\"\n                           @input=\"roleEdited = true\"\n                           :disabled=\"roles_idList.includes(roleToEdit.role.role_id)\"\n                     >\n                     </w-switch>\n                  </div>\n\n                  <div class=\"right\">\n                     <span>Permission de modifier le groupe : </span>\n                     <w-switch\n                           class=\"ma2\"\n                           :value=\"true\"\n                           color=\"success\"\n                           v-model=\"roleToEdit.rights.canChangeGroup\"\n                           @input=\"roleEdited = true\"\n                           :disabled=\"roles_idList.includes(roleToEdit.role.role_id)\"\n                     >\n                     </w-switch>\n                  </div>\n\n                  <div class=\"right\">\n                     <span>Permission de modifier les salons de discussions : </span>\n                     <w-switch\n                           class=\"ma2\"\n                           :value=\"true\"\n                           color=\"success\"\n                           v-model=\"roleToEdit.rights.canModifyRoom\"\n                           @input=\"roleEdited = true\"\n                           :disabled=\"roles_idList.includes(roleToEdit.role.role_id)\"\n                     >\n                     </w-switch>\n                  </div>\n\n                  <div class=\"right\">\n                     <span>Permission de modifier les notes : </span>\n                     <w-switch\n                           class=\"ma2\"\n                           :value=\"true\"\n                           color=\"success\"\n                           v-model=\"roleToEdit.rights.canModifyNotes\"\n                           @input=\"roleEdited = true\"\n                           :disabled=\"roles_idList.includes(roleToEdit.role.role_id)\"\n                     >\n                     </w-switch>\n                  </div>\n\n                  <div class=\"right\">\n                     <span>Permission de lancer un stream : </span>\n                     <w-switch\n                           class=\"ma2\"\n                           :value=\"true\"\n                           color=\"success\"\n                           v-model=\"roleToEdit.rights.canStream\"\n                           @input=\"roleEdited = true\"\n                           :disabled=\"roles_idList.includes(roleToEdit.role.role_id)\"\n                     >\n                     </w-switch>\n                  </div>\n\n                  <w-alert class=\"alert\" v-if=\"roleEdited\" color=\"success\">\n                     Enregistrer les modifications ?\n                     <w-button\n                           bg-color=\"success\"\n                           @click=\"editRole\"\n                     >\n                        Oui !\n                     </w-button>\n                  </w-alert>\n               </div>\n               <div v-else style=\"font-size: 18px; font-weight: 600;\">\n                  Sélectionner un rôle pour le modifier.\n               </div>\n            </div>\n         </div>\n      </div>\n   </div>\n</template>\n\n<script>\nimport {mapGetters} from \"vuex\";\nimport axios from \"axios\";\n\nexport default {\n   name: \"SubjectSettings\",\n   data() {\n      return {\n         addGroup: {\n            show: false,\n            fullscreen: false,\n            persistent: false,\n            persistentNoAnimation: false,\n            width: 300,\n            data: {\n               name: \"\",\n               init: \"\",\n               type: \"\",\n            },\n         },\n         users: {\n            list: [],\n            headers: [\n               {label: 'Nom', key: 'last_name'},\n               {label: 'Prénom', key: 'name'},\n               {label: 'Pseudo', key: 'username'},\n               {label: 'Statut', key: 'role'}\n            ],\n            selection: []\n         },\n         typeTranslation: {\n            \"ESTABLISHMENT\": \"Établissement\",\n            \"FACULTY\": \"Université\",\n            \"ADMINISTRATION\": \"Administration\",\n            \"COURSE\": \"Filière/cursus\",\n            \"GRADE\": \"Année\",\n            \"SUBJECTS\": \"Matière\",\n            \"OTHER\": \"Autres\"\n         },\n         roleTranslation: {\n            \"STUDENT\": \"Étudiant\",\n            \"TEACHER\": \"Enseignant\",\n            \"ADMIN\": \"Administrateur\"\n         },\n         types: [\n            {label: \"ESTABLISHMENT\", order: 1},\n            {label: \"FACULTY\", order: 1},\n            {label: \"ADMINISTRATION\", order: 2},\n            {label: \"COURSE\", order: 3},\n            {label: \"GRADE\", order: 4},\n            {label: \"SUBJECTS\", order: 5},\n            {label: \"OTHER\", order: 6},\n         ],\n         groupTypes: [],\n         uploaded: false,\n         formData: null,\n         roleToEdit: {\n            rights: {},\n            role: {}\n         },\n         roleEdited: false,\n         roles_idList: [],\n         viewedInfo: true,\n         modifyRole: {\n            show: false,\n            groupRoles: [],\n            userRoles: [],\n            rolesToAdd: [],\n         },\n         createRole: {\n            show: false,\n            validators: {\n               required: value => !!value || \"Entrez un nom de rôle\"\n            },\n            value: \"\"\n         }\n      }\n   },\n   methods: {\n      add(event) {\n         if (this.addGroup.data.init.length > 4)\n            this.addGroup.data.init = this.addGroup.data.init.replaceAll(\" \", \"\").substring(0, 4);\n         if ((event.type === 'keydown' && event.keyCode === 13) || event.type === 'click') {\n            axios.post(\"/api/groups/addNewGroup\", {\n               parent_id: this.getGroup.groups_id,\n               user_id: this.getUser.id,\n               depth: this.getGroup.depth + 1,\n               description: this.addGroup.data.init,\n               name: this.addGroup.data.name,\n               type: Object.keys(this.typeTranslation).find(key => this.typeTranslation[key] === this.addGroup.data.type),\n               text: \"\"\n            }).then(response => {\n               this.$emit('groupAdded', response.data);\n            })\n            this.addGroup.show = false;\n         }\n      },\n      removeUsers() {\n         this.users.selection.forEach(elt => {\n            this.users.list.splice(this.users.list.indexOf(elt), 1);\n            axios.delete(`/api/groups/deleteUser?user_id=${elt.id}&group_id=${this.getGroup.groups_id}`)\n         })\n      },\n      removeAll() {\n         this.users.list.forEach(elt => {\n            axios.delete(`/api/groups/deleteUser?user_id=${elt.id}&group_id=${this.getGroup.groups_id}`)\n         })\n         this.users.list = [];\n      },\n      getOrder(type) {\n         let res = -1;\n         this.types.forEach(elt => {\n            if (elt.label === type) {\n               res = elt.order;\n            }\n         })\n         return res;\n      },\n      onSubjectUpload() {\n         let file = this.$refs.uploadInput.files[0];\n         this.formData = new FormData();\n         this.formData.append(\"file\", file);\n      },\n      uploadFile() {\n         axios({\n            url: `/api/uploadfile/uploadSubject?group_id=${this.getGroup.groups_id}`,\n            method: 'POST',\n            data: this.formData,\n            headers: {\n               Accept: 'application/json',\n               'Content-type': 'multipart/form-data'\n            }\n         })\n      },\n      changeRoleShown(role) {\n         if (!this.roleEdited) {\n            this.roleToEdit.role = role;\n            if (role.rights === \"*\") {\n               this.roleToEdit.rights = {\n                  canSendMessage: true,\n                  canReadMessage: true,\n                  canChangeGroup: true,\n                  canModifyRoom: true,\n                  canModifyNotes: true,\n                  canStream: true,\n               }\n            } else {\n               const temp = role.rights;\n               this.roleToEdit.rights = {\n                  canSendMessage: temp.includes(\"s\"),\n                  canReadMessage: temp.includes(\"r\"),\n                  canChangeGroup: temp.includes(\"p\"),\n                  canModifyRoom: temp.includes(\"c\"),\n                  canModifyNotes: temp.includes(\"n\"),\n                  canStream: temp.includes(\"l\"),\n               }\n            }\n         }\n      },\n      editRole() {\n         this.roleEdited = false\n         let right = \"\";\n         if (this.roleToEdit.rights.canSendMessage)\n            right += \"s\";\n         if (this.roleToEdit.rights.canReadMessage)\n            right += \"r\";\n         if (this.roleToEdit.rights.canChangeGroup)\n            right += \"p\";\n         if (this.roleToEdit.rights.canModifyRoom)\n            right += \"c\";\n         if (this.roleToEdit.rights.canModifyNotes)\n            right += \"n\";\n         if (this.roleToEdit.rights.canStream)\n            right += \"l\";\n         if (right.length === 0)\n            right = \"-\"\n         axios.put(`/api/groups/modifyRightsForRole?role_id=${this.roleToEdit.role.role_id}&rights=${right}`)\n      },\n\n      prepareModifyRoles() {\n         this.modifyRole.show = true;\n         this.modifyRole.rolesToAdd = []\n         this.loadRoles();\n      },\n      async loadRoles() {\n         await axios.get(`/api/groups/getRoleByGroupAndUser?group_id=${this.getGroup.groups_id}&user_id=${this.users.selection[0].id}`).then(response => {\n            this.modifyRole.userRoles = response.data.map(e => {\n               return {\n                  label: e.name,\n                  value: e,\n                  color: 'success'\n               }\n            });\n         });\n         await axios.get(`/api/groups/getAllRolesByGroup?group_id=${this.getGroup.groups_id}`).then(response => {\n            this.modifyRole.groupRoles = response.data;\n         });\n      },\n      userHaveRole(user_id, role_id) {\n         let haveRole = false;\n         this.modifyRole.userRoles.forEach(elt => {\n            if (elt.value.role_id === role_id)\n               haveRole = true;\n         })\n         return haveRole;\n      },\n      addRoleForUser() {\n         this.modifyRole.rolesToAdd.forEach(elt => {\n            axios.post(`/api/groups/addRoleForUser?user_id=${this.users.selection[0].id}&role_id=${elt.role_id}`)\n         });\n         this.modifyRole.rolesToAdd.forEach(elt => {\n            this.modifyRole.userRoles.push({\n               label: elt.name,\n               value: elt,\n               color: 'success'\n            });\n         })\n         this.modifyRole.rolesToAdd = []\n      },\n      deleteRoleForUser(role) {\n         axios.delete(`/api/groups/removeRoleForUser?user_id=${this.users.selection[0].id}&role_id=${role.role_id}`).then(() => {\n            this.modifyRole.userRoles = this.modifyRole.userRoles.filter(e => {\n               return e.value.role_id !== role.role_id;\n            })\n         })\n      },\n\n      addNewRole() {\n         axios.post(`/api/groups/addRoleForGroup?group_id=${this.getGroup.groups_id}&role_name=${this.createRole.value}&rights=sr`).then(response => {\n            this.getGroup.roles.push(response.data);\n         })\n\n         this.createRole.value = \"\";\n         this.createRole.show = false;\n      },\n      deleteRole() {\n         axios.delete(`/api/groups/deleteRole?role_id=${this.roleToEdit.role.role_id}`).then(() => {\n            this.getGroup.roles = this.getGroup.roles.filter(e => {\n               return e.role_id !== this.roleToEdit.role.role_id;\n            })\n            this.roleToEdit = {\n               role: {},\n               rights: {}\n            }\n         })\n      }\n   },\n   computed: {\n      ...mapGetters(['getGroup', 'getUser'])\n   },\n   mounted() {\n      // TODO : actualiser le groupe à chaque fois qu'on rentre dans mounted\n      this.groupTypes = this.types.filter(elt => elt.order > this.getOrder(this.getGroup.type));\n      this.users.list = this.getGroup.users.filter(e => {\n         return e.id !== this.getUser.id\n      }).map(e => {\n         return {\n            id: e.id,\n            last_name: e.last_name,\n            name: e.name,\n            username: e.username,\n            role: this.roleTranslation[e.role]\n         }\n      }).sort((a, b) => {\n         if (a.last_name < b.last_name)\n            return -1;\n         if (a.last_name > b.last_name)\n            return 1;\n         if (a.last_name === b.last_name)\n            return 0;\n      });\n      axios.get(`/api/groups/getRoleByGroupAndUser?group_id=${this.getGroup.groups_id}&user_id=${this.getUser.id}`).then(response => {\n         this.roles_idList = response.data.map(e => {\n            return e.role_id\n         })\n      })\n   }\n}\n</script>\n\n<style scoped>\n.SubjectSettings {\n   height: calc(100vh - 100px);\n   width: 100%;\n   padding: 40px;\n\n   display: flex;\n   flex-direction: column;\n   justify-content: flex-start;\n   align-items: center;\n\n   overflow-y: auto;\n   overflow-x: hidden;\n}\n\n.addGroup {\n   margin-top: 30px;\n   height: 220px;\n   width: 100%;\n   display: flex;\n   flex-direction: column;\n   align-items: center;\n   justify-content: center;\n}\n\n.uploadFile {\n   height: 24px;\n   border-radius: 3px;\n   display: flex;\n   align-items: center;\n   align-self: flex-start;\n   justify-content: space-between;\n}\n\n#fileUp {\n   height: 0;\n   width: 0;\n}\n\nlabel[for=\"fileUp\"] {\n   color: #F4F4F4;\n   background-color: #f65555;\n   cursor: pointer;\n   border-radius: 3px;\n   height: 24px;\n   display: flex;\n   align-items: center;\n   justify-content: center;\n   font-size: 14px;\n   font-weight: 500;\n   padding-left: 8px;\n   padding-right: 8px;\n   align-self: center;\n}\n\n.validate {\n   height: 35px;\n   width: 35px;\n   color: #F4F4F4;\n   border: none;\n   outline: none;\n   border-radius: 50%;\n   background-color: #61e85c\n}\n\n.cancel {\n   height: 35px;\n   width: 35px;\n   color: #F4F4F4;\n   border: none;\n   outline: none;\n   border-radius: 50%;\n   background-color: #fc3737;\n}\n\n.group-info {\n   width: calc(40% - 10px);\n}\n\n.users-list {\n   font-weight: 600;\n   height: 460px !important;\n   width: calc(60% - 10px);\n}\n\n.users-table {\n   width: 100%;\n}\n\n.option-panel {\n   width: calc(40% - 10px);\n}\n\n.row {\n   width: 100%;\n   height: 240px;\n   padding: 10px 20px 10px 20px;\n   border-radius: 5px;\n\n   display: flex;\n   align-items: flex-start;\n   justify-content: space-between;\n}\n\n.card {\n   height: 220px;\n   background-color: #4f4b5a;\n   color: #F4F4F4;\n   padding: 15px;\n   border-radius: 5px;\n   font-size: 14px;\n   display: flex;\n   align-items: flex-start;\n   justify-content: space-between;\n   flex-direction: column;\n}\n\n.card-title {\n   text-decoration: underline;\n   font-size: 20px;\n   font-weight: 600;\n}\n\n.role-edit {\n   width: 50%;\n   height: 460px;\n}\n\n.role-nav {\n   display: flex;\n   align-items: flex-start;\n   justify-content: space-between;\n\n   width: 100%;\n   height: 90%;\n}\n\n.roles-list {\n   display: flex;\n   flex-direction: column;\n   align-items: flex-start;\n   justify-content: flex-start;\n\n   max-width: 20%;\n   width: 20%;\n\n   overflow-x: hidden;\n   overflow-y: auto;\n}\n\n.role-button {\n   background-color: transparent;\n   outline: none;\n   border: none;\n   color: #F4F4F4;\n\n   width: 100%;\n   height: 20px;\n   display: flex;\n   align-items: center;\n\n   margin-bottom: 5px;\n   font-size: 17px;\n\n   cursor: pointer;\n}\n\n.rights {\n   max-width: 80%;\n   width: 80%;\n   height: 100%;\n   padding: 10px;\n\n   display: flex;\n   flex-direction: column;\n\n   border: #2d2d2d 2px solid;\n   border-radius: 3px;\n}\n\n.right {\n   display: flex;\n   align-items: center;\n   justify-content: space-between;\n}\n\n.alert {\n   display: flex;\n   align-items: center;\n   justify-content: space-between;\n}\n\n.add-role {\n   display: flex;\n   flex-direction: column;\n   align-items: flex-start;\n   justify-content: flex-start;\n}\n\n.add-role > * {\n   width: 100%;\n   margin-bottom: 10px;\n}\n\n.user-roles {\n   display: flex;\n   flex-direction: column;\n   align-items: flex-start;\n   justify-content: flex-start;\n   width: 100%;\n   max-height: 300px;\n}\n\n.user-roles > span {\n   width: 100%;\n   display: flex;\n   align-items: center;\n   justify-content: space-between;\n   height: 35px;\n   color: #F4F4F4;\n   padding: 10px;\n   background-color: #4f4b5a;\n   font-size: 17px;\n   font-weight: 600;\n   margin-bottom: 10px;\n   border-radius: 5px;\n}\n\n.deleteRole {\n   font-weight: 600;\n   font-size: 12px;\n   background-color: #F4F4F4;\n   color: #E85C5C;\n   width: 20px;\n   height: 20px;\n   border-radius: 50%;\n   border: none;\n   outline: none;\n   display: flex;\n   align-items: center;\n   justify-content: center;\n   cursor: pointer;\n}\n\n.deleteRole:hover {\n   background-color: #E85C5C;\n   color: #F4F4F4;\n}\n</style>","import { render } from \"./SubjectSettings.vue?vue&type=template&id=3b80a1f4&scoped=true\"\nimport script from \"./SubjectSettings.vue?vue&type=script&lang=js\"\nexport * from \"./SubjectSettings.vue?vue&type=script&lang=js\"\n\nimport \"./SubjectSettings.vue?vue&type=style&index=0&id=3b80a1f4&scoped=true&lang=css\"\nscript.render = render\nscript.__scopeId = \"data-v-3b80a1f4\"\n\nexport default script","'use strict';\nvar $ = require('../internals/export');\nvar toAbsoluteIndex = require('../internals/to-absolute-index');\nvar toInteger = require('../internals/to-integer');\nvar toLength = require('../internals/to-length');\nvar toObject = require('../internals/to-object');\nvar arraySpeciesCreate = require('../internals/array-species-create');\nvar createProperty = require('../internals/create-property');\nvar arrayMethodHasSpeciesSupport = require('../internals/array-method-has-species-support');\n\nvar HAS_SPECIES_SUPPORT = arrayMethodHasSpeciesSupport('splice');\n\nvar max = Math.max;\nvar min = Math.min;\nvar MAX_SAFE_INTEGER = 0x1FFFFFFFFFFFFF;\nvar MAXIMUM_ALLOWED_LENGTH_EXCEEDED = 'Maximum allowed length exceeded';\n\n// `Array.prototype.splice` method\n// https://tc39.es/ecma262/#sec-array.prototype.splice\n// with adding support of @@species\n$({ target: 'Array', proto: true, forced: !HAS_SPECIES_SUPPORT }, {\n  splice: function splice(start, deleteCount /* , ...items */) {\n    var O = toObject(this);\n    var len = toLength(O.length);\n    var actualStart = toAbsoluteIndex(start, len);\n    var argumentsLength = arguments.length;\n    var insertCount, actualDeleteCount, A, k, from, to;\n    if (argumentsLength === 0) {\n      insertCount = actualDeleteCount = 0;\n    } else if (argumentsLength === 1) {\n      insertCount = 0;\n      actualDeleteCount = len - actualStart;\n    } else {\n      insertCount = argumentsLength - 2;\n      actualDeleteCount = min(max(toInteger(deleteCount), 0), len - actualStart);\n    }\n    if (len + insertCount - actualDeleteCount > MAX_SAFE_INTEGER) {\n      throw TypeError(MAXIMUM_ALLOWED_LENGTH_EXCEEDED);\n    }\n    A = arraySpeciesCreate(O, actualDeleteCount);\n    for (k = 0; k < actualDeleteCount; k++) {\n      from = actualStart + k;\n      if (from in O) createProperty(A, k, O[from]);\n    }\n    A.length = actualDeleteCount;\n    if (insertCount < actualDeleteCount) {\n      for (k = actualStart; k < len - actualDeleteCount; k++) {\n        from = k + actualDeleteCount;\n        to = k + insertCount;\n        if (from in O) O[to] = O[from];\n        else delete O[to];\n      }\n      for (k = len; k > len - actualDeleteCount + insertCount; k--) delete O[k - 1];\n    } else if (insertCount > actualDeleteCount) {\n      for (k = len - actualDeleteCount; k > actualStart; k--) {\n        from = k + actualDeleteCount - 1;\n        to = k + insertCount - 1;\n        if (from in O) O[to] = O[from];\n        else delete O[to];\n      }\n    }\n    for (k = 0; k < insertCount; k++) {\n      O[k + actualStart] = arguments[k + 2];\n    }\n    O.length = len - actualDeleteCount + insertCount;\n    return A;\n  }\n});\n","'use strict';\nvar $ = require('../internals/export');\nvar $map = require('../internals/array-iteration').map;\nvar arrayMethodHasSpeciesSupport = require('../internals/array-method-has-species-support');\n\nvar HAS_SPECIES_SUPPORT = arrayMethodHasSpeciesSupport('map');\n\n// `Array.prototype.map` method\n// https://tc39.es/ecma262/#sec-array.prototype.map\n// with adding support of @@species\n$({ target: 'Array', proto: true, forced: !HAS_SPECIES_SUPPORT }, {\n  map: function map(callbackfn /* , thisArg */) {\n    return $map(this, callbackfn, arguments.length > 1 ? arguments[1] : undefined);\n  }\n});\n"],"sourceRoot":""}