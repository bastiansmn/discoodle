(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-4c7f4355"],{"4b01":function(e,t,o){"use strict";o("f7ce")},"7db0":function(e,t,o){"use strict";var r=o("23e7"),l=o("b727").find,a=o("44d2"),n="find",i=!0;n in[]&&Array(1)[n]((function(){i=!1})),r({target:"Array",proto:!0,forced:i},{find:function(e){return l(this,e,arguments.length>1?arguments[1]:void 0)}}),a(n)},"844e":function(e,t,o){"use strict";o.r(t);o("b0c0"),o("d81d"),o("4de4"),o("caad"),o("2532");var r=o("7a23"),l=Object(r["withScopeId"])("data-v-3b80a1f4");Object(r["pushScopeId"])("data-v-3b80a1f4");var a={class:"SubjectSettings"},n={class:"row"},i={class:"group-info card"},d=Object(r["createVNode"])("span",{class:"card-title"},"Informations du groupe :",-1),s=Object(r["createTextVNode"])("Ce sont ces informations que vous devez transmettre pour vous connecter au groupe "),c=Object(r["createTextVNode"])("Identifiant du groupe : "),u=Object(r["createTextVNode"])("Clé de connexion au groupe : "),p={class:"users-list card"},f=Object(r["createVNode"])("span",{class:"card-title",style:{height:"12%","max-height":"12%"}},"Utilisateurs du groupe : (vous exclu)",-1),b=Object(r["createTextVNode"])(" La rôle utilisateur n'est PAS le rôle que vous affectez à un utilisateur. C'est le statut qu'il a vis-à-vis du site "),m={style:{height:"75%",width:"100%","max-height":"75%"}},g=Object(r["createTextVNode"])(" Il n'y a pas d'utilisateurs dans le groupe. "),h={style:{display:"flex","align-items":"center","justify-content":"space-between",width:"100%",height:"7%","max-height":"7%"}},O=Object(r["createTextVNode"])(" Supprimer la sélection "),j=Object(r["createTextVNode"])("Modifier le rôle "),V=Object(r["createTextVNode"])("Effacer tout "),N={class:"add-role"},y={style:{color:"#2d2d2d"}},v={class:"user-roles"},R=Object(r["createTextVNode"])(" Enlever "),T=Object(r["createTextVNode"])("Ajouter le(s) rôle(s) sélectionné(s) "),_={class:"row"},E={class:"card option-panel"},k=Object(r["createVNode"])("span",{class:"card-title"},"Configuration :",-1),w=Object(r["createTextVNode"])("Ajouter un sous-groupe "),C={class:"addGroup"},S=Object(r["createVNode"])("span",{style:{"margin-bottom":"10px","font-size":"19px","font-weight":"600",color:"#454150"}},"Créer un groupe :",-1),G=Object(r["createTextVNode"])(" Nom du sous-groupe. "),x=Object(r["createTextVNode"])(" Initiales du groupe "),A=Object(r["createVNode"])("span",{style:{color:"#565656"}},"Type de groupe :",-1),U=Object(r["createTextVNode"])(" Créer ! "),M={class:"uploadFile"},B=Object(r["createVNode"])("label",{for:"fileUp"},"Ajouter une page d'accueil ",-1),I={key:0,style:{color:"#F4F4F4"}},F={class:"row",style:{height:"480px"}},D={class:"card role-edit"},L=Object(r["createVNode"])("span",{class:"card-title"}," Rôles du groupe : ",-1),P={class:"role-nav"},q={class:"roles-list"},z=Object(r["createTextVNode"])(" Nouveau "),H=Object(r["createVNode"])("h2",{style:{color:"#2d2d2d"}},"Créer un nouveau rôle :",-1),J=Object(r["createTextVNode"])("Nom du rôle :"),$=Object(r["createTextVNode"])("Créer"),Y={key:0,class:"rights"},W={style:{display:"flex","align-items":"center","justify-content":"space-between"}},X={style:{"font-size":"16px","font-weight":"600"}},K=Object(r["createTextVNode"])(" Supprimer le rôle "),Q={class:"right"},Z=Object(r["createVNode"])("span",null,"Permission d'envoyer des messages : ",-1),ee={class:"right"},te=Object(r["createVNode"])("span",null,"Permission de lire des messages : ",-1),oe={class:"right"},re=Object(r["createVNode"])("span",null,"Permission de modifier le groupe : ",-1),le={class:"right"},ae=Object(r["createVNode"])("span",null,"Permission de modifier les salons de discussions : ",-1),ne={class:"right"},ie=Object(r["createVNode"])("span",null,"Permission de modifier les notes : ",-1),de={class:"right"},se=Object(r["createVNode"])("span",null,"Permission de lancer un stream : ",-1),ce=Object(r["createTextVNode"])(" Enregistrer les modifications ? "),ue=Object(r["createTextVNode"])(" Oui ! "),pe={key:1,style:{"font-size":"18px","font-weight":"600"}};Object(r["popScopeId"])();var fe=l((function(e,t,o,fe,be,me){var ge=Object(r["resolveComponent"])("w-alert"),he=Object(r["resolveComponent"])("w-table"),Oe=Object(r["resolveComponent"])("w-button"),je=Object(r["resolveComponent"])("w-select"),Ve=Object(r["resolveComponent"])("w-dialog"),Ne=Object(r["resolveComponent"])("w-input"),ye=Object(r["resolveComponent"])("w-form"),ve=Object(r["resolveComponent"])("w-switch");return Object(r["openBlock"])(),Object(r["createBlock"])("div",a,[Object(r["createVNode"])("div",n,[Object(r["createVNode"])("div",i,[d,Object(r["createVNode"])(ge,{info:"",plain:""},{default:l((function(){return[s]})),_:1}),Object(r["createVNode"])("span",null,[c,Object(r["createVNode"])("strong",null,Object(r["toDisplayString"])(e.getGroup.groups_id),1)]),Object(r["createVNode"])("span",null,[u,Object(r["createVNode"])("strong",null,Object(r["toDisplayString"])(e.getGroup.token),1)])]),Object(r["createVNode"])("div",p,[f,be.viewedInfo?(Object(r["openBlock"])(),Object(r["createBlock"])(ge,{key:0,info:"",plain:""},{default:l((function(){return[b,Object(r["createVNode"])("button",{onClick:t[1]||(t[1]=function(e){return be.viewedInfo=!1}),style:{cursor:"pointer","text-decoration":"underline",background:"none",outline:"none",border:"none",color:"#F4F4F4","margin-left":"5px"}}," Compris ! ")]})),_:1})):Object(r["createCommentVNode"])("",!0),Object(r["createVNode"])("div",m,[Object(r["createVNode"])(he,{class:"users-table",headers:be.users.headers,items:be.users.list,"selectable-rows":!0,onRowSelect:t[2]||(t[2]=function(e){return be.users.selection=[e.item]}),sort:"+role"},{"no-data":l((function(){return[g]})),_:1},8,["headers","items"])]),Object(r["createVNode"])("div",h,[Object(r["createVNode"])(Oe,{class:"ma1","bg-color":"error",disabled:0===be.users.selection.length,onClick:me.removeUsers},{default:l((function(){return[O]})),_:1},8,["disabled","onClick"]),Object(r["createVNode"])(Oe,{class:"ma1","bg-color":"error",disabled:1!==be.users.selection.length,onClick:me.prepareModifyRoles},{default:l((function(){return[j]})),_:1},8,["disabled","onClick"]),Object(r["createVNode"])(Oe,{class:"ma1","bg-color":"error",disabled:0===be.users.list.length,onClick:me.removeAll},{default:l((function(){return[V]})),_:1},8,["disabled","onClick"]),Object(r["createVNode"])(Ve,{modelValue:be.modifyRole.show,"onUpdate:modelValue":t[4]||(t[4]=function(e){return be.modifyRole.show=e}),width:500},{default:l((function(){return[Object(r["createVNode"])("div",N,[Object(r["createVNode"])("h3",y," Rôle(s) de "+Object(r["toDisplayString"])(be.users.selection[0].name)+" "+Object(r["toDisplayString"])(be.users.selection[0].last_name)+": ",1),Object(r["createVNode"])("div",v,[(Object(r["openBlock"])(!0),Object(r["createBlock"])(r["Fragment"],null,Object(r["renderList"])(be.modifyRole.userRoles.sort((function(e,t){return"*"===e.value.rights?-1:"*"===t.value.rights||"-"===e.value.rights?1:"-"===t.value.rights?-1:e.value.rights.length-t.value.rights.length})),(function(e){return Object(r["openBlock"])(),Object(r["createBlock"])("span",{key:e.value.role_id},[Object(r["createTextVNode"])(Object(r["toDisplayString"])(e.label)+" ",1),Object(r["createVNode"])(Oe,{"bg-color":"error",disabled:be.modifyRole.userRoles.length<=1,onClick:function(t){return me.deleteRoleForUser(e.value)}},{default:l((function(){return[R]})),_:2},1032,["disabled","onClick"])])})),128))]),Object(r["createVNode"])(je,{items:be.modifyRole.groupRoles.filter((function(e){return!me.userHaveRole(be.users.selection[0].id,e.role_id)})).map((function(e){return{label:e.name,value:e}})),modelValue:be.modifyRole.rolesToAdd,"onUpdate:modelValue":t[3]||(t[3]=function(e){return be.modifyRole.rolesToAdd=e}),label:"Rôle(s) à ajouter :",multiple:be.modifyRole.groupRoles.length>1},null,8,["items","modelValue","multiple"]),Object(r["createVNode"])(Oe,{plain:"","bg-color":"success",disabled:0===be.modifyRole.rolesToAdd.length,onClick:me.addRoleForUser},{default:l((function(){return[T]})),_:1},8,["disabled","onClick"])])]})),_:1},8,["modelValue"])])])]),Object(r["createVNode"])("div",_,[Object(r["createVNode"])("div",E,[k,Object(r["createVNode"])(Oe,{"bg-color":"error",onClick:t[5]||(t[5]=function(e){return be.addGroup.show=!0}),style:{"align-self":"flex-start"}},{default:l((function(){return[w]})),_:1}),Object(r["createVNode"])(Ve,{modelValue:be.addGroup.show,"onUpdate:modelValue":t[9]||(t[9]=function(e){return be.addGroup.show=e}),fullscreen:be.addGroup.fullscreen,width:be.addGroup.width,persistent:be.addGroup.persistent,"persistent-no-animation":be.addGroup.persistentNoAnimation},{default:l((function(){return[Object(r["createVNode"])("div",C,[S,Object(r["createVNode"])(Ne,{autocomplete:"off",color:"grey-dark3",required:"",style:{"margin-bottom":"10px",width:"90%"},modelValue:be.addGroup.data.name,"onUpdate:modelValue":t[6]||(t[6]=function(e){return be.addGroup.data.name=e})},{default:l((function(){return[G]})),_:1},8,["modelValue"]),Object(r["createVNode"])(Ne,{autocomplete:"off",color:"grey-dark3",required:"",style:{"margin-bottom":"10px",width:"90%"},modelValue:be.addGroup.data.init,"onUpdate:modelValue":t[7]||(t[7]=function(e){return be.addGroup.data.init=e})},{default:l((function(){return[x]})),_:1},8,["modelValue"]),A,Object(r["createVNode"])(je,{color:"grey-dark3",required:"",style:{"margin-bottom":"10px",width:"90%","z-index":"500"},modelValue:be.addGroup.data.type,"onUpdate:modelValue":t[8]||(t[8]=function(e){return be.addGroup.data.type=e}),items:be.groupTypes.map((function(e){return{label:be.typeTranslation[e.label]}}))},null,8,["modelValue","items"]),Object(r["createVNode"])(Oe,{"bg-color":"error",onClick:me.add},{default:l((function(){return[U]})),_:1},8,["onClick"])])]})),_:1},8,["modelValue","fullscreen","width","persistent","persistent-no-animation"]),Object(r["createVNode"])("div",M,[B,Object(r["createVNode"])("input",{id:"fileUp",ref:"uploadInput",type:"file",accept:".md,.txt",onChange:t[10]||(t[10]=function(e){me.onSubjectUpload(),be.uploaded=!0})},null,544),be.uploaded?(Object(r["openBlock"])(),Object(r["createBlock"])("button",{key:0,class:"validate",onClick:t[11]||(t[11]=function(e){me.uploadFile(),be.uploaded=!1})},"✔")):Object(r["createCommentVNode"])("",!0),be.uploaded?(Object(r["openBlock"])(),Object(r["createBlock"])("button",{key:1,class:"cancel",onClick:t[12]||(t[12]=function(e){return be.uploaded=!1})},"X")):Object(r["createCommentVNode"])("",!0)]),be.uploaded?(Object(r["openBlock"])(),Object(r["createBlock"])("span",I,Object(r["toDisplayString"])(e.$refs.uploadInput.files[0].name),1)):Object(r["createCommentVNode"])("",!0)])]),Object(r["createVNode"])("div",F,[Object(r["createVNode"])("div",D,[L,Object(r["createVNode"])("div",P,[Object(r["createVNode"])("div",q,[(Object(r["openBlock"])(!0),Object(r["createBlock"])(r["Fragment"],null,Object(r["renderList"])(e.getGroup.roles,(function(e){return Object(r["openBlock"])(),Object(r["createBlock"])("button",{class:"role-button",key:e.role_id,style:e.name===be.roleToEdit.role.name?{color:"#f65555",fontWeight:600}:{},onClick:function(t){return me.changeRoleShown(e)}},Object(r["toDisplayString"])(e.name),13,["onClick"])})),128)),Object(r["createVNode"])(Oe,{style:{"margin-top":"10px"},"bg-color":"error",onClick:t[13]||(t[13]=function(e){return be.createRole.show=!0})},{default:l((function(){return[z]})),_:1}),Object(r["createVNode"])(Ve,{width:500,modelValue:be.createRole.show,"onUpdate:modelValue":t[15]||(t[15]=function(e){return be.createRole.show=e})},{default:l((function(){return[H,Object(r["createVNode"])(ye,{onSuccess:me.addNewRole},{default:l((function(){return[Object(r["createVNode"])(Ne,{modelValue:be.createRole.value,"onUpdate:modelValue":t[14]||(t[14]=function(e){return be.createRole.value=e}),style:{"margin-bottom":"10px"},validators:[be.createRole.validators.required]},{default:l((function(){return[J]})),_:1},8,["modelValue","validators"]),Object(r["createVNode"])(Oe,{type:"submit"},{default:l((function(){return[$]})),_:1})]})),_:1},8,["onSuccess"])]})),_:1},8,["modelValue"])]),JSON.stringify({})!==JSON.stringify(be.roleToEdit.role)?(Object(r["openBlock"])(),Object(r["createBlock"])("div",Y,[Object(r["createVNode"])("div",W,[Object(r["createVNode"])("span",X,"Rôle : "+Object(r["toDisplayString"])(be.roleToEdit.role.name),1),Object(r["createVNode"])(Oe,{"bg-color":"error",disabled:"Etudiant"===be.roleToEdit.role.name||"Admin"===be.roleToEdit.role.name,onClick:me.deleteRole},{default:l((function(){return[K]})),_:1},8,["disabled","onClick"])]),Object(r["createVNode"])("div",Q,[Z,Object(r["createVNode"])(ve,{class:"ma2",value:!0,color:"success",modelValue:be.roleToEdit.rights.canSendMessage,"onUpdate:modelValue":t[16]||(t[16]=function(e){return be.roleToEdit.rights.canSendMessage=e}),onInput:t[17]||(t[17]=function(e){return be.roleEdited=!0}),disabled:be.roles_idList.includes(be.roleToEdit.role.role_id)},null,8,["modelValue","disabled"])]),Object(r["createVNode"])("div",ee,[te,Object(r["createVNode"])(ve,{class:"ma2",value:!0,color:"success",modelValue:be.roleToEdit.rights.canReadMessage,"onUpdate:modelValue":t[18]||(t[18]=function(e){return be.roleToEdit.rights.canReadMessage=e}),onInput:t[19]||(t[19]=function(e){return be.roleEdited=!0}),disabled:be.roles_idList.includes(be.roleToEdit.role.role_id)},null,8,["modelValue","disabled"])]),Object(r["createVNode"])("div",oe,[re,Object(r["createVNode"])(ve,{class:"ma2",value:!0,color:"success",modelValue:be.roleToEdit.rights.canChangeGroup,"onUpdate:modelValue":t[20]||(t[20]=function(e){return be.roleToEdit.rights.canChangeGroup=e}),onInput:t[21]||(t[21]=function(e){return be.roleEdited=!0}),disabled:be.roles_idList.includes(be.roleToEdit.role.role_id)},null,8,["modelValue","disabled"])]),Object(r["createVNode"])("div",le,[ae,Object(r["createVNode"])(ve,{class:"ma2",value:!0,color:"success",modelValue:be.roleToEdit.rights.canModifyRoom,"onUpdate:modelValue":t[22]||(t[22]=function(e){return be.roleToEdit.rights.canModifyRoom=e}),onInput:t[23]||(t[23]=function(e){return be.roleEdited=!0}),disabled:be.roles_idList.includes(be.roleToEdit.role.role_id)},null,8,["modelValue","disabled"])]),Object(r["createVNode"])("div",ne,[ie,Object(r["createVNode"])(ve,{class:"ma2",value:!0,color:"success",modelValue:be.roleToEdit.rights.canModifyNotes,"onUpdate:modelValue":t[24]||(t[24]=function(e){return be.roleToEdit.rights.canModifyNotes=e}),onInput:t[25]||(t[25]=function(e){return be.roleEdited=!0}),disabled:be.roles_idList.includes(be.roleToEdit.role.role_id)},null,8,["modelValue","disabled"])]),Object(r["createVNode"])("div",de,[se,Object(r["createVNode"])(ve,{class:"ma2",value:!0,color:"success",modelValue:be.roleToEdit.rights.canStream,"onUpdate:modelValue":t[26]||(t[26]=function(e){return be.roleToEdit.rights.canStream=e}),onInput:t[27]||(t[27]=function(e){return be.roleEdited=!0}),disabled:be.roles_idList.includes(be.roleToEdit.role.role_id)},null,8,["modelValue","disabled"])]),be.roleEdited?(Object(r["openBlock"])(),Object(r["createBlock"])(ge,{key:0,class:"alert",color:"success"},{default:l((function(){return[ce,Object(r["createVNode"])(Oe,{"bg-color":"success",onClick:me.editRole},{default:l((function(){return[ue]})),_:1},8,["onClick"])]})),_:1})):Object(r["createCommentVNode"])("",!0)])):(Object(r["openBlock"])(),Object(r["createBlock"])("div",pe," Sélectionner un rôle pour le modifier. "))])])])])})),be=o("5530"),me=o("1da1"),ge=(o("96cf"),o("7db0"),o("b64b"),o("159b"),o("a434"),o("99af"),o("5502")),he=o("bc3a"),Oe=o.n(he),je={name:"SubjectSettings",data:function(){return{addGroup:{show:!1,fullscreen:!1,persistent:!1,persistentNoAnimation:!1,width:300,data:{name:"",init:"",type:""}},users:{list:[],headers:[{label:"Nom",key:"last_name"},{label:"Prénom",key:"name"},{label:"Pseudo",key:"username"},{label:"Statut",key:"role"}],selection:[]},typeTranslation:{ESTABLISHMENT:"Établissement",FACULTY:"Université",ADMINISTRATION:"Administration",COURSE:"Filière/cursus",GRADE:"Année",SUBJECTS:"Matière",OTHER:"Autres"},roleTranslation:{STUDENT:"Étudiant",TEACHER:"Enseignant",ADMIN:"Administrateur"},types:[{label:"ESTABLISHMENT",order:1},{label:"FACULTY",order:1},{label:"ADMINISTRATION",order:2},{label:"COURSE",order:3},{label:"GRADE",order:4},{label:"SUBJECTS",order:5},{label:"OTHER",order:6}],groupTypes:[],uploaded:!1,formData:null,roleToEdit:{rights:{},role:{}},roleEdited:!1,roles_idList:[],viewedInfo:!0,modifyRole:{show:!1,groupRoles:[],userRoles:[],rolesToAdd:[]},createRole:{show:!1,validators:{required:function(e){return!!e||"Entrez un nom de rôle"}},value:""}}},methods:{add:function(e){var t=this;this.addGroup.data.init.length>4&&(this.addGroup.data.init=this.addGroup.data.init.replaceAll(" ","").substring(0,4)),("keydown"===e.type&&13===e.keyCode||"click"===e.type)&&(Oe.a.post("/api/groups/addNewGroup",{parent_id:this.getGroup.groups_id,user_id:this.getUser.id,depth:this.getGroup.depth+1,description:this.addGroup.data.init,name:this.addGroup.data.name,type:Object.keys(this.typeTranslation).find((function(e){return t.typeTranslation[e]===t.addGroup.data.type})),text:""}).then((function(e){t.$emit("groupAdded",e.data)})),this.addGroup.show=!1)},removeUsers:function(){var e=this;this.users.selection.forEach((function(t){e.users.list.splice(e.users.list.indexOf(t),1),Oe.a.delete("/api/groups/deleteUser?user_id=".concat(t.id,"&group_id=").concat(e.getGroup.groups_id))}))},removeAll:function(){var e=this;this.users.list.forEach((function(t){Oe.a.delete("/api/groups/deleteUser?user_id=".concat(t.id,"&group_id=").concat(e.getGroup.groups_id))})),this.users.list=[]},getOrder:function(e){var t=-1;return this.types.forEach((function(o){o.label===e&&(t=o.order)})),t},onSubjectUpload:function(){var e=this.$refs.uploadInput.files[0];this.formData=new FormData,this.formData.append("file",e)},uploadFile:function(){Oe()({url:"/api/uploadfile/uploadSubject?group_id=".concat(this.getGroup.groups_id),method:"POST",data:this.formData,headers:{Accept:"application/json","Content-type":"multipart/form-data"}})},changeRoleShown:function(e){if(!this.roleEdited)if(this.roleToEdit.role=e,"*"===e.rights)this.roleToEdit.rights={canSendMessage:!0,canReadMessage:!0,canChangeGroup:!0,canModifyRoom:!0,canModifyNotes:!0,canStream:!0};else{var t=e.rights;this.roleToEdit.rights={canSendMessage:t.includes("s"),canReadMessage:t.includes("r"),canChangeGroup:t.includes("p"),canModifyRoom:t.includes("c"),canModifyNotes:t.includes("n"),canStream:t.includes("l")}}},editRole:function(){this.roleEdited=!1;var e="";this.roleToEdit.rights.canSendMessage&&(e+="s"),this.roleToEdit.rights.canReadMessage&&(e+="r"),this.roleToEdit.rights.canChangeGroup&&(e+="p"),this.roleToEdit.rights.canModifyRoom&&(e+="c"),this.roleToEdit.rights.canModifyNotes&&(e+="n"),this.roleToEdit.rights.canStream&&(e+="l"),0===e.length&&(e="-"),Oe.a.put("/api/groups/modifyRightsForRole?role_id=".concat(this.roleToEdit.role.role_id,"&rights=").concat(e))},prepareModifyRoles:function(){this.modifyRole.show=!0,this.modifyRole.rolesToAdd=[],this.loadRoles()},loadRoles:function(){var e=this;return Object(me["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Oe.a.get("/api/groups/getRoleByGroupAndUser?group_id=".concat(e.getGroup.groups_id,"&user_id=").concat(e.users.selection[0].id)).then((function(t){e.modifyRole.userRoles=t.data.map((function(e){return{label:e.name,value:e,color:"success"}}))}));case 2:return t.next=4,Oe.a.get("/api/groups/getAllRolesByGroup?group_id=".concat(e.getGroup.groups_id)).then((function(t){e.modifyRole.groupRoles=t.data}));case 4:case"end":return t.stop()}}),t)})))()},userHaveRole:function(e,t){var o=!1;return this.modifyRole.userRoles.forEach((function(e){e.value.role_id===t&&(o=!0)})),o},addRoleForUser:function(){var e=this;this.modifyRole.rolesToAdd.forEach((function(t){Oe.a.post("/api/groups/addRoleForUser?user_id=".concat(e.users.selection[0].id,"&role_id=").concat(t.role_id))})),this.modifyRole.rolesToAdd.forEach((function(t){e.modifyRole.userRoles.push({label:t.name,value:t,color:"success"})})),this.modifyRole.rolesToAdd=[]},deleteRoleForUser:function(e){var t=this;Oe.a.delete("/api/groups/removeRoleForUser?user_id=".concat(this.users.selection[0].id,"&role_id=").concat(e.role_id)).then((function(){t.modifyRole.userRoles=t.modifyRole.userRoles.filter((function(t){return t.value.role_id!==e.role_id}))}))},addNewRole:function(){var e=this;Oe.a.post("/api/groups/addRoleForGroup?group_id=".concat(this.getGroup.groups_id,"&role_name=").concat(this.createRole.value,"&rights=sr")).then((function(t){e.getGroup.roles.push(t.data)})),this.createRole.value="",this.createRole.show=!1},deleteRole:function(){var e=this;Oe.a.delete("/api/groups/deleteRole?role_id=".concat(this.roleToEdit.role.role_id)).then((function(){e.getGroup.roles=e.getGroup.roles.filter((function(t){return t.role_id!==e.roleToEdit.role.role_id})),e.roleToEdit={role:{},rights:{}}}))}},computed:Object(be["a"])({},Object(ge["c"])(["getGroup","getUser"])),mounted:function(){var e=this;this.groupTypes=this.types.filter((function(t){return t.order>e.getOrder(e.getGroup.type)})),this.users.list=this.getGroup.users.filter((function(t){return t.id!==e.getUser.id})).map((function(t){return{id:t.id,last_name:t.last_name,name:t.name,username:t.username,role:e.roleTranslation[t.role]}})).sort((function(e,t){return e.last_name<t.last_name?-1:e.last_name>t.last_name?1:e.last_name===t.last_name?0:void 0})),Oe.a.get("/api/groups/getRoleByGroupAndUser?group_id=".concat(this.getGroup.groups_id,"&user_id=").concat(this.getUser.id)).then((function(t){e.roles_idList=t.data.map((function(e){return e.role_id}))}))}};o("4b01");je.render=fe,je.__scopeId="data-v-3b80a1f4";t["default"]=je},a434:function(e,t,o){"use strict";var r=o("23e7"),l=o("23cb"),a=o("a691"),n=o("50c4"),i=o("7b0b"),d=o("65f0"),s=o("8418"),c=o("1dde"),u=c("splice"),p=Math.max,f=Math.min,b=9007199254740991,m="Maximum allowed length exceeded";r({target:"Array",proto:!0,forced:!u},{splice:function(e,t){var o,r,c,u,g,h,O=i(this),j=n(O.length),V=l(e,j),N=arguments.length;if(0===N?o=r=0:1===N?(o=0,r=j-V):(o=N-2,r=f(p(a(t),0),j-V)),j+o-r>b)throw TypeError(m);for(c=d(O,r),u=0;u<r;u++)g=V+u,g in O&&s(c,u,O[g]);if(c.length=r,o<r){for(u=V;u<j-r;u++)g=u+r,h=u+o,g in O?O[h]=O[g]:delete O[h];for(u=j;u>j-r+o;u--)delete O[u-1]}else if(o>r)for(u=j-r;u>V;u--)g=u+r-1,h=u+o-1,g in O?O[h]=O[g]:delete O[h];for(u=0;u<o;u++)O[u+V]=arguments[u+2];return O.length=j-r+o,c}})},d81d:function(e,t,o){"use strict";var r=o("23e7"),l=o("b727").map,a=o("1dde"),n=a("map");r({target:"Array",proto:!0,forced:!n},{map:function(e){return l(this,e,arguments.length>1?arguments[1]:void 0)}})},f7ce:function(e,t,o){}}]);
//# sourceMappingURL=chunk-4c7f4355.c21dccb5.js.map