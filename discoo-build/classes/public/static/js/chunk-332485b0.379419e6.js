(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-332485b0"],{1148:function(e,t,n){"use strict";var o=n("a691"),r=n("1d80");e.exports=function(e){var t=String(r(this)),n="",a=o(e);if(a<0||a==1/0)throw RangeError("Wrong number of repetitions");for(;a>0;(a>>>=1)&&(t+=t))1&a&&(n+=t);return n}},2532:function(e,t,n){"use strict";var o=n("23e7"),r=n("5a34"),a=n("1d80"),c=n("ab13");o({target:"String",proto:!0,forced:!c("includes")},{includes:function(e){return!!~String(a(this)).indexOf(r(e),arguments.length>1?arguments[1]:void 0)}})},"408a":function(e,t,n){var o=n("c6b6");e.exports=function(e){if("number"!=typeof e&&"Number"!=o(e))throw TypeError("Incorrect invocation");return+e}},"44e7":function(e,t,n){var o=n("861d"),r=n("c6b6"),a=n("b622"),c=a("match");e.exports=function(e){var t;return o(e)&&(void 0!==(t=e[c])?!!t:"RegExp"==r(e))}},5899:function(e,t){e.exports="\t\n\v\f\r                　\u2028\u2029\ufeff"},"58a8":function(e,t,n){var o=n("1d80"),r=n("5899"),a="["+r+"]",c=RegExp("^"+a+a+"*"),i=RegExp(a+a+"*$"),u=function(e){return function(t){var n=String(o(t));return 1&e&&(n=n.replace(c,"")),2&e&&(n=n.replace(i,"")),n}};e.exports={start:u(1),end:u(2),trim:u(3)}},"5a34":function(e,t,n){var o=n("44e7");e.exports=function(e){if(o(e))throw TypeError("The method doesn't accept regular expressions");return e}},7156:function(e,t,n){var o=n("861d"),r=n("d2bb");e.exports=function(e,t,n){var a,c;return r&&"function"==typeof(a=t.constructor)&&a!==n&&o(c=a.prototype)&&c!==n.prototype&&r(e,c),e}},"99af":function(e,t,n){"use strict";var o=n("23e7"),r=n("d039"),a=n("e8b5"),c=n("861d"),i=n("7b0b"),u=n("50c4"),s=n("8418"),d=n("65f0"),l=n("1dde"),f=n("b622"),p=n("2d00"),g=f("isConcatSpreadable"),h=9007199254740991,b="Maximum allowed index exceeded",m=p>=51||!r((function(){var e=[];return e[g]=!1,e.concat()[0]!==e})),N=l("concat"),v=function(e){if(!c(e))return!1;var t=e[g];return void 0!==t?!!t:a(e)},y=!m||!N;o({target:"Array",proto:!0,forced:y},{concat:function(e){var t,n,o,r,a,c=i(this),l=d(c,0),f=0;for(t=-1,o=arguments.length;t<o;t++)if(a=-1===t?c:arguments[t],v(a)){if(r=u(a.length),f+r>h)throw TypeError(b);for(n=0;n<r;n++,f++)n in a&&s(l,f,a[n])}else{if(f>=h)throw TypeError(b);s(l,f++,a)}return l.length=f,l}})},a18b:function(e,t,n){"use strict";n.r(t);n("b0c0"),n("d81d");var o=n("7a23"),r=Object(o["withScopeId"])("data-v-060ceedb");Object(o["pushScopeId"])("data-v-060ceedb");var a={class:"SubjectNotes"},c=Object(o["createTextVNode"])(" Vous n'avez aucune note pour l'instant. "),i=Object(o["createTextVNode"])("Ajouter une note"),u=Object(o["createTextVNode"])("Supprimer la note"),s=Object(o["createTextVNode"])("Nom de la note :"),d=Object(o["createTextVNode"])(" Coefficient "),l=Object(o["createTextVNode"])(" Note maximale : "),f={class:"buttons"},p=Object(o["createTextVNode"])("Annuler"),g=Object(o["createTextVNode"])("Effacer"),h=Object(o["createTextVNode"])("Ajouter la note");Object(o["popScopeId"])();var b=r((function(e,t,n,b,m,N){var v=Object(o["resolveComponent"])("w-table"),y=Object(o["resolveComponent"])("w-button"),x=Object(o["resolveComponent"])("w-input"),j=Object(o["resolveComponent"])("w-select"),_=Object(o["resolveComponent"])("w-form"),O=Object(o["resolveComponent"])("w-dialog");return Object(o["openBlock"])(),Object(o["createBlock"])("div",a,[Object(o["createVNode"])(v,{headers:m.table.headers,items:m.table.items,"selectable-rows":m.table.selectableRows,onRowSelect:t[1]||(t[1]=function(e){return m.table.noteSelection=e}),class:"notes"},{"no-data":r((function(){return[c]})),_:1},8,["headers","items","selectable-rows"]),m.rights.canModifyNotes?(Object(o["openBlock"])(),Object(o["createBlock"])(y,{key:0,class:"ma1","bg-color":"error",onClick:t[2]||(t[2]=function(e){return m.addNote=!0})},{default:r((function(){return[i]})),_:1})):Object(o["createCommentVNode"])("",!0),m.rights.canModifyNotes?(Object(o["openBlock"])(),Object(o["createBlock"])(y,{key:1,class:"ma1","bg-color":"error",onClick:N.removeNote},{default:r((function(){return[u]})),_:1},8,["onClick"])):Object(o["createCommentVNode"])("",!0),Object(o["createVNode"])(O,{modelValue:m.addNote,"onUpdate:modelValue":t[8]||(t[8]=function(e){return m.addNote=e}),title:"Ajouter une ou plusieurs notes",width:550,persistent:""},{actions:r((function(){return[Object(o["createVNode"])(_,{class:"note-content","no-blur-validation":""},{default:r((function(){return[Object(o["createVNode"])(x,{color:"grey-dark5",value:m.inputNote.name,onInput:t[3]||(t[3]=function(e){return m.inputNote.name=e})},{default:r((function(){return[s]})),_:1},8,["value"]),Object(o["createVNode"])(j,{color:"grey-dark5",items:e.getGroup.users.map((function(e){return{label:e.name+" "+e.last_name+" ("+e.username+")",value:e}})),label:"Élève :",onInput:t[4]||(t[4]=function(e){return m.inputNote.user=e})},null,8,["items"]),Object(o["createVNode"])(x,{color:"grey-dark5",type:"number",min:"0",max:m.maxNote,onInput:t[5]||(t[5]=function(e){return m.inputNote.note=e})},{default:r((function(){return[Object(o["createTextVNode"])(" Note"+Object(o["toDisplayString"])(m.maxNote&&""!==m.maxNote?"":" (/ ".concat(m.maxNote,")")),1)]})),_:1},8,["max"]),Object(o["createVNode"])(x,{color:"grey-dark5",onInput:t[6]||(t[6]=function(e){return m.inputNote.coef=e}),type:"number",min:"0"},{default:r((function(){return[d]})),_:1}),Object(o["createVNode"])(x,{required:"",color:"grey-dark5",type:"number",min:"0",max:"1000",modelValue:m.maxNote,"onUpdate:modelValue":t[7]||(t[7]=function(e){return m.maxNote=e}),onInput:N.changeMaxNote},{default:r((function(){return[l]})),_:1},8,["modelValue","onInput"]),Object(o["createVNode"])("div",f,[Object(o["createVNode"])(y,{class:"ma1","bg-color":"error",onClick:N.cancel},{default:r((function(){return[p]})),_:1},8,["onClick"]),Object(o["createVNode"])(y,{class:"ma1",type:"reset","bg-color":"warning"},{default:r((function(){return[g]})),_:1}),Object(o["createVNode"])(y,{class:"ma1",type:"submit","bg-color":"success",disabled:!N.formWellFilled(),onClick:N.addNoteForUser},{default:r((function(){return[h]})),_:1},8,["disabled","onClick"])])]})),_:1})]})),_:1},8,["modelValue"])])})),m=n("5530"),N=(n("a9e3"),n("4de4"),n("99af"),n("159b"),n("b680"),n("caad"),n("2532"),n("5502")),v=n("bc3a"),y=n.n(v),x={name:"SubjectNotes",data:function(){return{table:{headers:[{label:"Nom",key:"name"},{label:"Coefficient",key:"coef"},{label:"Note (/20)",key:"note"}],selectableRows:1,items:[],noteSelection:{}},addNote:!1,inputNote:{name:"",user:{},note:"",coef:""},maxNote:20,validators:{required:function(e){return!!e||"Vous devez entrer une valeur ici."}},rights:{canSendMessage:!1,canReadMessage:!1,canChangeGroup:!1,canModifyRoom:!1,canModifyNotes:!1,canStream:!1}}},methods:{changeMaxNote:function(e){this.maxNote=e},cancel:function(){this.addNote=!1,this.inputNote={name:"",user:{},note:"",coef:""},this.maxNote=20},formWellFilled:function(){return Boolean(""!==this.inputNote.coef&&""!==this.inputNote.name&&""!==this.inputNote.note&&this.inputNote.user)},addNoteForUser:function(){var e=this;this.formWellFilled()&&y.a.post("/api/note/addNewNote",{user_id:this.inputNote.user.id,group_id:this.getGroup.groups_id,note:Number(this.inputNote.note)/this.maxNote*20,coef:Number(this.inputNote.coef),titre:this.inputNote.name}).then((function(t){e.table.items.push({id:t.data.note_id,name:t.data.titre,coef:t.data.coef,note:t.data.note})})),this.addNote=!1},removeNote:function(){var e,t=this;(null===(e=this.table.noteSelection.item)||void 0===e?void 0:e.id)>=0&&y.a.delete("/api/note/deleteNoteById?note_id=".concat(this.table.noteSelection.item.id)).then((function(){t.table.items=t.table.items.filter((function(e){return e.id!==t.table.noteSelection.item.id}))}))}},computed:Object(m["a"])({},Object(N["c"])(["getGroup","getUser"])),beforeRouteUpdate:function(){var e=this;"STUDENT"===this.getUser.role&&y.a.get("/api/note/getUserNoteByGroupId?group_id=".concat(this.getGroup.groups_id,"&user_id=").concat(this.getUser.id)).then((function(t){if(e.table.items=t.data.map((function(e){return{id:e.note_id,name:e.titre,coef:e.coef,note:e.note}})),t.data.length>0){var n=0,o=0;e.table.items.forEach((function(e){n+=e.note*e.coef,o+=e.coef})),n/=o,e.table.items.push({id:-1,name:"Moyenne générale".toUpperCase(),coef:"-",note:n.toFixed(2)})}})),y.a.get("/api/groups/getRoleByGroupAndUser?user_id=".concat(this.getUser.id,"&group_id=").concat(this.getGroup.groups_id)).then((function(t){var n=!1;if(t.data.forEach((function(e){"*"===e.rights&&(n=!0)})),n)e.rights={canSendMessage:!0,canReadMessage:!0,canChangeGroup:!0,canModifyRoom:!0,canModifyNotes:!0,canStream:!0};else{t.data.sort((function(e,t){return e.rights.length-t.rights.length}));var o=t.data[t.data.length-1].rights;e.rights={canSendMessage:o.includes("s"),canReadMessage:o.includes("r"),canChangeGroup:o.includes("p"),canModifyRoom:o.includes("c"),canModifyNotes:o.includes("n"),canStream:o.includes("l")}}e.rights.canModifyNotes&&y.a.get("/api/note/getAllNoteByGroupId?group_id=".concat(e.getGroup.groups_id)).then((function(t){if(e.table.items=t.data.map((function(e){return{id:e.id,name:e.titre,coef:e.coef,note:e.note}})),t.data.length>0){var n=0,o=0;e.table.items.forEach((function(e){n+=e.note*e.coef,o+=e.coef})),n/=o,e.table.items.push({id:-1,name:"Moyenne de la classe :".toUpperCase(),coef:"-",note:n.toFixed(2)})}}))}))},mounted:function(){var e=this;"STUDENT"===this.getUser.role&&y.a.get("/api/note/getUserNoteByGroupId?group_id=".concat(this.getGroup.groups_id,"&user_id=").concat(this.getUser.id)).then((function(t){if(e.table.items=t.data.map((function(e){return{id:e.note_id,name:e.titre,coef:e.coef,note:e.note}})),t.data.length>0){var n=0,o=0;e.table.items.forEach((function(e){n+=e.note*e.coef,o+=e.coef})),n/=o,e.table.items.push({id:-1,name:"Moyenne générale".toUpperCase(),coef:"-",note:n.toFixed(2)})}})),y.a.get("/api/groups/getRoleByGroupAndUser?user_id=".concat(this.getUser.id,"&group_id=").concat(this.getGroup.groups_id)).then((function(t){var n=!1;if(t.data.forEach((function(e){"*"===e.rights&&(n=!0)})),n)e.rights={canSendMessage:!0,canReadMessage:!0,canChangeGroup:!0,canModifyRoom:!0,canModifyNotes:!0,canStream:!0};else{t.data.sort((function(e,t){return e.rights.length-t.rights.length}));var o=t.data[t.data.length-1].rights;e.rights={canSendMessage:o.includes("s"),canReadMessage:o.includes("r"),canChangeGroup:o.includes("p"),canModifyRoom:o.includes("c"),canModifyNotes:o.includes("n"),canStream:o.includes("l")}}e.rights.canModifyNotes&&y.a.get("/api/note/getAllNoteByGroupId?group_id=".concat(e.getGroup.groups_id)).then((function(t){if(e.table.items=t.data.map((function(e){return{id:e.note_id,name:e.titre,coef:e.coef,note:e.note}})),t.data.length>0){var n=0,o=0;e.table.items.forEach((function(e){n+=e.note*e.coef,o+=e.coef})),n/=o,e.table.items.push({id:-1,name:"Moyenne de la classe :".toUpperCase(),coef:"-",note:n.toFixed(2)})}}))}))}};n("ea74");x.render=b,x.__scopeId="data-v-060ceedb";t["default"]=x},a9e3:function(e,t,n){"use strict";var o=n("83ab"),r=n("da84"),a=n("94ca"),c=n("6eeb"),i=n("5135"),u=n("c6b6"),s=n("7156"),d=n("c04e"),l=n("d039"),f=n("7c73"),p=n("241c").f,g=n("06cf").f,h=n("9bf2").f,b=n("58a8").trim,m="Number",N=r[m],v=N.prototype,y=u(f(v))==m,x=function(e){var t,n,o,r,a,c,i,u,s=d(e,!1);if("string"==typeof s&&s.length>2)if(s=b(s),t=s.charCodeAt(0),43===t||45===t){if(n=s.charCodeAt(2),88===n||120===n)return NaN}else if(48===t){switch(s.charCodeAt(1)){case 66:case 98:o=2,r=49;break;case 79:case 111:o=8,r=55;break;default:return+s}for(a=s.slice(2),c=a.length,i=0;i<c;i++)if(u=a.charCodeAt(i),u<48||u>r)return NaN;return parseInt(a,o)}return+s};if(a(m,!N(" 0o1")||!N("0b1")||N("+0x1"))){for(var j,_=function(e){var t=arguments.length<1?0:e,n=this;return n instanceof _&&(y?l((function(){v.valueOf.call(n)})):u(n)!=m)?s(new N(x(t)),n,_):x(t)},O=o?p(N):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger,fromString,range".split(","),S=0;O.length>S;S++)i(N,j=O[S])&&!i(_,j)&&h(_,j,g(N,j));_.prototype=v,v.constructor=_,c(r,m,_)}},ab13:function(e,t,n){var o=n("b622"),r=o("match");e.exports=function(e){var t=/./;try{"/./"[e](t)}catch(n){try{return t[r]=!1,"/./"[e](t)}catch(o){}}return!1}},b0c0:function(e,t,n){var o=n("83ab"),r=n("9bf2").f,a=Function.prototype,c=a.toString,i=/^\s*function ([^ (]*)/,u="name";o&&!(u in a)&&r(a,u,{configurable:!0,get:function(){try{return c.call(this).match(i)[1]}catch(e){return""}}})},b63c:function(e,t,n){},b680:function(e,t,n){"use strict";var o=n("23e7"),r=n("a691"),a=n("408a"),c=n("1148"),i=n("d039"),u=1..toFixed,s=Math.floor,d=function(e,t,n){return 0===t?n:t%2===1?d(e,t-1,n*e):d(e*e,t/2,n)},l=function(e){var t=0,n=e;while(n>=4096)t+=12,n/=4096;while(n>=2)t+=1,n/=2;return t},f=function(e,t,n){var o=-1,r=n;while(++o<6)r+=t*e[o],e[o]=r%1e7,r=s(r/1e7)},p=function(e,t){var n=6,o=0;while(--n>=0)o+=e[n],e[n]=s(o/t),o=o%t*1e7},g=function(e){var t=6,n="";while(--t>=0)if(""!==n||0===t||0!==e[t]){var o=String(e[t]);n=""===n?o:n+c.call("0",7-o.length)+o}return n},h=u&&("0.000"!==8e-5.toFixed(3)||"1"!==.9.toFixed(0)||"1.25"!==1.255.toFixed(2)||"1000000000000000128"!==(0xde0b6b3a7640080).toFixed(0))||!i((function(){u.call({})}));o({target:"Number",proto:!0,forced:h},{toFixed:function(e){var t,n,o,i,u=a(this),s=r(e),h=[0,0,0,0,0,0],b="",m="0";if(s<0||s>20)throw RangeError("Incorrect fraction digits");if(u!=u)return"NaN";if(u<=-1e21||u>=1e21)return String(u);if(u<0&&(b="-",u=-u),u>1e-21)if(t=l(u*d(2,69,1))-69,n=t<0?u*d(2,-t,1):u/d(2,t,1),n*=4503599627370496,t=52-t,t>0){f(h,0,n),o=s;while(o>=7)f(h,1e7,0),o-=7;f(h,d(10,o,1),0),o=t-1;while(o>=23)p(h,1<<23),o-=23;p(h,1<<o),f(h,1,1),p(h,2),m=g(h)}else f(h,0,n),f(h,1<<-t,0),m=g(h)+c.call("0",s);return s>0?(i=m.length,m=b+(i<=s?"0."+c.call("0",s-i)+m:m.slice(0,i-s)+"."+m.slice(i-s))):m=b+m,m}})},caad:function(e,t,n){"use strict";var o=n("23e7"),r=n("4d64").includes,a=n("44d2");o({target:"Array",proto:!0},{includes:function(e){return r(this,e,arguments.length>1?arguments[1]:void 0)}}),a("includes")},d81d:function(e,t,n){"use strict";var o=n("23e7"),r=n("b727").map,a=n("1dde"),c=a("map");o({target:"Array",proto:!0,forced:!c},{map:function(e){return r(this,e,arguments.length>1?arguments[1]:void 0)}})},ea74:function(e,t,n){"use strict";n("b63c")}}]);
//# sourceMappingURL=chunk-332485b0.379419e6.js.map