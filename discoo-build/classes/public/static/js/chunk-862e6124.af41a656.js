(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-862e6124"],{2532:function(e,t,o){"use strict";var n=o("23e7"),c=o("5a34"),r=o("1d80"),a=o("ab13");n({target:"String",proto:!0,forced:!a("includes")},{includes:function(e){return!!~String(r(this)).indexOf(c(e),arguments.length>1?arguments[1]:void 0)}})},"44e7":function(e,t,o){var n=o("861d"),c=o("c6b6"),r=o("b622"),a=r("match");e.exports=function(e){var t;return n(e)&&(void 0!==(t=e[a])?!!t:"RegExp"==c(e))}},"5a34":function(e,t,o){var n=o("44e7");e.exports=function(e){if(n(e))throw TypeError("The method doesn't accept regular expressions");return e}},"676c":function(e,t,o){},"99af":function(e,t,o){"use strict";var n=o("23e7"),c=o("d039"),r=o("e8b5"),a=o("861d"),s=o("7b0b"),i=o("50c4"),d=o("8418"),u=o("65f0"),l=o("1dde"),f=o("b622"),g=o("2d00"),m=f("isConcatSpreadable"),p=9007199254740991,h="Maximum allowed index exceeded",b=g>=51||!c((function(){var e=[];return e[m]=!1,e.concat()[0]!==e})),v=l("concat"),j=function(e){if(!a(e))return!1;var t=e[m];return void 0!==t?!!t:r(e)},O=!b||!v;n({target:"Array",proto:!0,forced:O},{concat:function(e){var t,o,n,c,r,a=s(this),l=u(a,0),f=0;for(t=-1,n=arguments.length;t<n;t++)if(r=-1===t?a:arguments[t],j(r)){if(c=i(r.length),f+c>p)throw TypeError(h);for(o=0;o<c;o++,f++)o in r&&d(l,f,r[o])}else{if(f>=p)throw TypeError(h);d(l,f++,r)}return l.length=f,l}})},ab13:function(e,t,o){var n=o("b622"),c=n("match");e.exports=function(e){var t=/./;try{"/./"[e](t)}catch(o){try{return t[c]=!1,"/./"[e](t)}catch(n){}}return!1}},b0c0:function(e,t,o){var n=o("83ab"),c=o("9bf2").f,r=Function.prototype,a=r.toString,s=/^\s*function ([^ (]*)/,i="name";n&&!(i in r)&&c(r,i,{configurable:!0,get:function(){try{return a.call(this).match(s)[1]}catch(e){return""}}})},b89f:function(e,t,o){"use strict";o.r(t);o("b0c0"),o("99af");var n=o("7a23"),c=Object(n["withScopeId"])("data-v-71b9507c");Object(n["pushScopeId"])("data-v-71b9507c");var r={class:"SubjectChat"},a={class:"rooms-list"},s={class:"server-name"},i={class:"addNewRoom"},d=Object(n["createVNode"])("span",null,"Ajouter un salon :",-1),u=Object(n["createTextVNode"])("Nom de la room :"),l=Object(n["createTextVNode"])("Ajouter la room"),f=Object(n["createVNode"])("div",{class:"separator"},null,-1),g={class:"chat"};Object(n["popScopeId"])();var m=c((function(e,t,o,m,p,h){var b,v=Object(n["resolveComponent"])("router-link"),j=Object(n["resolveComponent"])("w-input"),O=Object(n["resolveComponent"])("w-button"),R=Object(n["resolveComponent"])("w-dialog"),w=Object(n["resolveComponent"])("router-view");return Object(n["openBlock"])(),Object(n["createBlock"])("div",r,[Object(n["createVNode"])("div",a,[Object(n["createVNode"])("div",s,Object(n["toDisplayString"])(null===(b=e.getGroup.server)||void 0===b?void 0:b.name),1),(Object(n["openBlock"])(!0),Object(n["createBlock"])(n["Fragment"],null,Object(n["renderList"])(e.getGroup.server.rooms,(function(t){return Object(n["openBlock"])(),Object(n["createBlock"])(v,{onClick:function(o){return e.setConvUUID(t.room_id)},to:"/groupes/subject/".concat(e.getGroup.groups_id,"/discussion/").concat(t.room_id,"?name=").concat(t.room_name),class:"room",key:t.room_id},{default:c((function(){return[Object(n["createTextVNode"])(" # "+Object(n["toDisplayString"])(t.room_name),1)]})),_:2},1032,["onClick","to"])})),128)),p.rights.canModifyRoom?(Object(n["openBlock"])(),Object(n["createBlock"])("button",{key:0,class:"addRoom",onClick:t[1]||(t[1]=function(e){return p.showAddRoom=!0})}," + ")):Object(n["createCommentVNode"])("",!0),Object(n["createVNode"])(R,{modelValue:p.showAddRoom,"onUpdate:modelValue":t[3]||(t[3]=function(e){return p.showAddRoom=e}),width:400},{default:c((function(){return[Object(n["createVNode"])("div",i,[d,Object(n["createVNode"])(j,{autocomplete:"off",modelValue:p.newRoomName,"onUpdate:modelValue":t[2]||(t[2]=function(e){return p.newRoomName=e})},{default:c((function(){return[u]})),_:1},8,["modelValue"]),Object(n["createVNode"])(O,{class:"ma1","bg-color":"success",onClick:h.createNewRoom},{default:c((function(){return[l]})),_:1},8,["onClick"])])]})),_:1},8,["modelValue"])]),f,Object(n["createVNode"])("div",g,[Object(n["createVNode"])(w)])])})),p=o("5530"),h=(o("159b"),o("caad"),o("2532"),o("5502")),b=o("bc3a"),v=o.n(b),j={name:"SubjectChat",computed:Object(p["a"])({},Object(h["c"])(["getGroup","getUser"])),methods:Object(p["a"])(Object(p["a"])({},Object(h["b"])(["setConvUUID"])),{},{createNewRoom:function(){var e=this;""!==this.newRoomName&&v.a.post("/api/server/addRoom?server_id=".concat(this.getGroup.server.server_id,"&name=").concat(this.newRoomName)).then((function(t){e.getGroup.server.rooms.push(t.data),e.newRoomName="",e.showAddRoom=!1}))}}),data:function(){return{rights:{canSendMessage:!1,canReadMessage:!1,canChangeGroup:!1,canModifyRoom:!1,canModifyNotes:!1,canStream:!1},showAddRoom:!1,newRoomName:""}},beforeRouteUpdate:function(){var e=this;v.a.get("/api/groups/getRoleByGroupAndUser?user_id=".concat(this.getUser.id,"&group_id=").concat(this.getGroup.groups_id)).then((function(t){var o=!1;if(t.data.forEach((function(e){"*"===e.rights&&(o=!0)})),o)e.rights={canSendMessage:!0,canReadMessage:!0,canChangeGroup:!0,canModifyRoom:!0,canModifyNotes:!0,canStream:!0};else{t.data.sort((function(e,t){return e.rights.length-t.rights.length}));var n=t.data[t.data.length-1].rights;e.rights={canSendMessage:n.includes("s"),canReadMessage:n.includes("r"),canChangeGroup:n.includes("p"),canModifyRoom:n.includes("c"),canModifyNotes:n.includes("n"),canStream:n.includes("l")}}}))},mounted:function(){var e=this;v.a.get("/api/groups/getRoleByGroupAndUser?user_id=".concat(this.getUser.id,"&group_id=").concat(this.getGroup.groups_id)).then((function(t){var o=!1;if(t.data.forEach((function(e){"*"===e.rights&&(o=!0)})),o)e.rights={canSendMessage:!0,canReadMessage:!0,canChangeGroup:!0,canModifyRoom:!0,canModifyNotes:!0,canStream:!0};else{t.data.sort((function(e,t){return e.rights.length-t.rights.length}));var n=t.data[t.data.length-1].rights;e.rights={canSendMessage:n.includes("s"),canReadMessage:n.includes("r"),canChangeGroup:n.includes("p"),canModifyRoom:n.includes("c"),canModifyNotes:n.includes("n"),canStream:n.includes("l")}}}))}};o("f36a");j.render=m,j.__scopeId="data-v-71b9507c";t["default"]=j},caad:function(e,t,o){"use strict";var n=o("23e7"),c=o("4d64").includes,r=o("44d2");n({target:"Array",proto:!0},{includes:function(e){return c(this,e,arguments.length>1?arguments[1]:void 0)}}),r("includes")},f36a:function(e,t,o){"use strict";o("676c")}}]);
//# sourceMappingURL=chunk-862e6124.af41a656.js.map